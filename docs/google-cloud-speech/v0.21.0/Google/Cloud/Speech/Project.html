---
layout: yard_main
title: "Class: Google::Cloud::Speech::Project - Google"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "Google::Cloud::Speech::Project";
  relpath = '../../../';
</script>


<div class="nav-wrap">
  <iframe id="nav" src="../../../class_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="../../../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span>
     &raquo; 
    <span class="title">Project</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><h1>Class: Google::Cloud::Speech::Project
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Google::Cloud::Speech::Project</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/google/cloud/speech/project.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <h1>Project</h1>

<p>The Google Cloud Speech API enables developers to convert audio to text
by applying powerful neural network models. The API recognizes over 80
languages and variants, to support your global user base. You can
transcribe the text of users dictating to an application&#39;s microphone,
enable command-and-control through voice, or transcribe audio files,
among many other use cases. Recognize audio uploaded in the request, and
integrate with your audio storage on Google Cloud Storage, by using the
same technology Google uses to power its own products.</p>

<p>See <span class='object_link'><a href="../../Cloud.html#speech-instance_method" title="Google::Cloud#speech (method)">Google::Cloud#speech</a></span></p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span>
<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span>

<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_transcript'>transcript</span> <span class='comment'>#=&gt; &quot;how old is the Brooklyn Bridge&quot;
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_confidence'>confidence</span> <span class='comment'>#=&gt; 0.9826789498329163</span></code></pre>
    
  </div>


</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#audio-instance_method" title="#audio (instance method)">#<strong>audio</strong>(source, encoding: nil, sample_rate: nil, language: nil)  &#x21d2; Audio </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new Audio instance from the given source.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#project-instance_method" title="#project (instance method)">#<strong>project</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The Speech project connected to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recognize-instance_method" title="#recognize (instance method)">#<strong>recognize</strong>(source, encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil)  &#x21d2; Array&lt;Result&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Performs synchronous speech recognition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recognize_job-instance_method" title="#recognize_job (instance method)">#<strong>recognize_job</strong>(source, encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil)  &#x21d2; Job </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Performs asynchronous speech recognition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stream-instance_method" title="#stream (instance method)">#<strong>stream</strong>(encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, utterance: nil, interim: nil)  &#x21d2; Stream </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a Stream object to perform bidirectional streaming speech-recognition: receive results while sending audio.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="audio-instance_method">
  
    #<strong>audio</strong>(source, encoding: nil, sample_rate: nil, language: nil)  &#x21d2; <tt><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new Audio instance from the given source. No API call is
made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage URI:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gs://bucket-name/path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage File object:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/storage</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_storage'>storage</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'>Storage</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='id identifier rubyid_storage'>storage</span><span class='period'>.</span><span class='id identifier rubyid_bucket'>bucket</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bucket-name</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>IO</tt>, <tt>Google::Cloud::Storage::File</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A string of
the path to the audio file to be recognized, or a File or other IO
object of the audio contents, or a Cloud Storage URI of the form
<code>&quot;gs://bucketname/path/to/document.ext&quot;</code>; or an instance of
Google::Cloud::Storage::File of the text to be annotated.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Acceptable values are:</p>

<ul>
<li><code>raw</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
<li><code>flac</code> - The <a href="http://flac.sourceforge.net/documentation.html">Free Lossless Audio
Codec</a> encoding.
Only 16-bit samples are supported. Not all fields in STREAMINFO
are supported. (FLAC)</li>
<li><code>mulaw</code> - 8-bit samples that compand 14-bit audio samples using
G.711 PCMU/mu-law. (MULAW)</li>
<li><code>amr</code> - Adaptive Multi-Rate Narrowband codec. (<code>sample_rate</code> must
be 8000 Hz.) (AMR)</li>
<li><code>amr_wb</code> - Adaptive Multi-Rate Wideband codec. (<code>sample_rate</code> must
be 16000 Hz.) (AMR_WB)</li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as a
<a href="BCP-47">https://www.rfc-editor.org/rfc/bcp/bcp47.txt</a> language
code. If not specified, the language defaults to &quot;en-US&quot;.  See
<a href="https://cloud.google.com/speech/docs/best-practices#language_support">Language
Support</a>
for a list of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The audio file to be recognized.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#audio-encodings" target="_parent" title="Audio Encodings">Audio Encodings</a></li>
    
      <li><a href="https://cloud.google.com/speech/docs/basics#sample-rates" target="_parent" title="Sample Rates">Sample Rates</a></li>
    
      <li><a href="https://cloud.google.com/speech/docs/basics#languages" target="_parent" title="Languages">Languages</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172
173
174
175
176
177
178</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></span>
    <span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_audio'>audio</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Audio.html" title="Google::Cloud::Speech::Audio (class)">Audio</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_source'>from_source</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_encoding'>encoding</span> <span class='kw'>unless</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_sample_rate'>sample_rate</span> <span class='op'>=</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span> <span class='kw'>unless</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_audio'>audio</span><span class='period'>.</span><span class='id identifier rubyid_language'>language</span> <span class='op'>=</span> <span class='id identifier rubyid_language'>language</span> <span class='kw'>unless</span> <span class='id identifier rubyid_language'>language</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_audio'>audio</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="project-instance_method">
  
    #<strong>project</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The Speech project connected to.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span><span class='lparen'>(</span>
  <span class='label'>project:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my-project-id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>keyfile:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/path/to/keyfile.json</span><span class='tstring_end'>&quot;</span></span>
<span class='rparen'>)</span>

<span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span> <span class='comment'>#=&gt; &quot;my-project-id&quot;</span></code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project'>project</span>
  <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recognize-instance_method">
  
    #<strong>recognize</strong>(source, encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Result.html" title="Google::Cloud::Speech::Result (class)">Result</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Performs synchronous speech recognition. Sends audio data to the
Speech API, which performs recognition on that data, and returns
results only after all audio has been processed. Limited to audio data
of 1 minute or less in duration.</p>

<p>The Speech API will take roughly the same amount of time to process
audio data sent synchronously as the duration of the supplied audio
data. That is, if you send audio data of 30 seconds in length, expect
the synchronous request to take approximately 30 seconds to return
results.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage URI:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gs://bucket-name/path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage File object:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/storage</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_storage'>storage</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'>Storage</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='id identifier rubyid_storage'>storage</span><span class='period'>.</span><span class='id identifier rubyid_bucket'>bucket</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bucket-name</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize'>recognize</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span>
                           <span class='label'>sample_rate:</span> <span class='int'>16000</span><span class='comma'>,</span>
                           <span class='label'>max_alternatives:</span> <span class='int'>10</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>IO</tt>, <tt>Google::Cloud::Storage::File</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A string of
the path to the audio file to be recognized, or a File or other IO
object of the audio contents, or a Cloud Storage URI of the form
<code>&quot;gs://bucketname/path/to/document.ext&quot;</code>; or an instance of
Google::Cloud::Storage::File of the text to be annotated.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Acceptable values are:</p>

<ul>
<li><code>raw</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
<li><code>flac</code> - The <a href="http://flac.sourceforge.net/documentation.html">Free Lossless Audio
Codec</a> encoding.
Only 16-bit samples are supported. Not all fields in STREAMINFO
are supported. (FLAC)</li>
<li><code>mulaw</code> - 8-bit samples that compand 14-bit audio samples using
G.711 PCMU/mu-law. (MULAW)</li>
<li><code>amr</code> - Adaptive Multi-Rate Narrowband codec. (<code>sample_rate</code> must
be 8000 Hz.) (AMR)</li>
<li><code>amr_wb</code> - Adaptive Multi-Rate Wideband codec. (<code>sample_rate</code> must
be 16000 Hz.) (AMR_WB)</li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as a
<a href="BCP-47">https://www.rfc-editor.org/rfc/bcp/bcp47.txt</a> language
code. If not specified, the language defaults to &quot;en-US&quot;.  See
<a href="https://cloud.google.com/speech/docs/best-practices#language_support">Language
Support</a>
for a list of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>max_alternatives</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Maximum number of recognition
hypotheses to be returned. Default is 1. The service may return
fewer. Valid values are 0-30. Defaults to 1. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profanity_filter</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will
attempt to filter out profanities, replacing all but the initial
character in each filtered word with asterisks, e.g. &quot;f***&quot;. Default
is <code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>phrases</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of strings containing words and
phrases &quot;hints&quot; so that the speech recognition is more likely to
recognize them. See <a href="https://cloud.google.com/speech/limits#content">usage
limits</a>. Optional.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Result.html" title="Google::Cloud::Speech::Result (class)">Result</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The transcribed text of audio recognized.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#synchronous-recognition" target="_parent" title="Synchronous Speech API Recognition">Synchronous Speech API Recognition</a></li>
    
      <li><a href="https://cloud.google.com/speech/docs/basics#phrase-hints" target="_parent" title="Phrase Hints">Phrase Hints</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 277</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recognize'>recognize</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='kw'>nil</span><span class='comma'>,</span>
              <span class='label'>max_alternatives:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>profanity_filter:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_service!'>ensure_service!</span>

  <span class='id identifier rubyid_audio_obj'>audio_obj</span> <span class='op'>=</span> <span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span>
                            <span class='label'>sample_rate:</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='id identifier rubyid_language'>language</span>

  <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_audio_config'>audio_config</span><span class='lparen'>(</span>
    <span class='label'>encoding:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span>
    <span class='label'>language:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_language'>language</span><span class='comma'>,</span> <span class='label'>max_alternatives:</span> <span class='id identifier rubyid_max_alternatives'>max_alternatives</span><span class='comma'>,</span>
    <span class='label'>profanity_filter:</span> <span class='id identifier rubyid_profanity_filter'>profanity_filter</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_grpc'>grpc</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_recognize_sync'>recognize_sync</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_to_grpc'>to_grpc</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_grpc'>grpc</span><span class='period'>.</span><span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result_grpc'>result_grpc</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="Result.html" title="Google::Cloud::Speech::Result (class)">Result</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_grpc'>from_grpc</span> <span class='id identifier rubyid_result_grpc'>result_grpc</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recognize_job-instance_method">
  
    #<strong>recognize_job</strong>(source, encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil)  &#x21d2; <tt><span class='object_link'><a href="Job.html" title="Google::Cloud::Speech::Job (class)">Job</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Performs asynchronous speech recognition. Requests are processed
asynchronously, meaning a Job is returned once the audio data has been
sent, and can be refreshed to retrieve recognition results once the
audio data has been processed.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize_job'>recognize_job</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span>

<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_reload!'>reload!</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage URI:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize_job'>recognize_job</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gs://bucket-name/path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                           <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='int'>16000</span>

<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_reload!'>reload!</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a Google Cloud Storage File object:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/storage</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_storage'>storage</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'>Storage</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='id identifier rubyid_storage'>storage</span><span class='period'>.</span><span class='id identifier rubyid_bucket'>bucket</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bucket-name</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/audio.raw</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/speech</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_speech'>speech</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Speech.html" title="Google::Cloud::Speech (module)">Speech</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span>

<span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='id identifier rubyid_speech'>speech</span><span class='period'>.</span><span class='id identifier rubyid_recognize_job'>recognize_job</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='symbol'>:raw</span><span class='comma'>,</span>
                           <span class='label'>sample_rate:</span> <span class='int'>16000</span><span class='comma'>,</span>
                           <span class='label'>max_alternatives:</span> <span class='int'>10</span>

<span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_done?'>done?</span> <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_job'>job</span><span class='period'>.</span><span class='id identifier rubyid_reload!'>reload!</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>IO</tt>, <tt>Google::Cloud::Storage::File</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A string of
the path to the audio file to be recognized, or a File or other IO
object of the audio contents, or a Cloud Storage URI of the form
<code>&quot;gs://bucketname/path/to/document.ext&quot;</code>; or an instance of
Google::Cloud::Storage::File of the text to be annotated.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Currently, the only acceptable value is:</p>

<ul>
<li><code>raw</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as a
<a href="BCP-47">https://www.rfc-editor.org/rfc/bcp/bcp47.txt</a> language
code. If not specified, the language defaults to &quot;en-US&quot;.  See
<a href="https://cloud.google.com/speech/docs/best-practices#language_support">Language
Support</a>
for a list of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>max_alternatives</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Maximum number of recognition
hypotheses to be returned. Default is 1. The service may return
fewer. Valid values are 0-30. Defaults to 1. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profanity_filter</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will
attempt to filter out profanities, replacing all but the initial
character in each filtered word with asterisks, e.g. &quot;f***&quot;. Default
is <code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>phrases</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of strings containing words and
phrases &quot;hints&quot; so that the speech recognition is more likely to
recognize them. See <a href="https://cloud.google.com/speech/limits#content">usage
limits</a>. Optional.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Job.html" title="Google::Cloud::Speech::Job (class)">Job</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A resource represents the long-running, asynchronous
processing of a speech-recognition operation.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#async-responses" target="_parent" title="Asynchronous Speech API Responses">Asynchronous Speech API Responses</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 384</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recognize_job'>recognize_job</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                  <span class='label'>language:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>max_alternatives:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                  <span class='label'>profanity_filter:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_service!'>ensure_service!</span>

  <span class='id identifier rubyid_audio_obj'>audio_obj</span> <span class='op'>=</span> <span class='id identifier rubyid_audio'>audio</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span>
                            <span class='label'>sample_rate:</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='id identifier rubyid_language'>language</span>

  <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_audio_config'>audio_config</span><span class='lparen'>(</span>
    <span class='label'>encoding:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span>
    <span class='label'>language:</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_language'>language</span><span class='comma'>,</span> <span class='label'>max_alternatives:</span> <span class='id identifier rubyid_max_alternatives'>max_alternatives</span><span class='comma'>,</span>
    <span class='label'>profanity_filter:</span> <span class='id identifier rubyid_profanity_filter'>profanity_filter</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_grpc'>grpc</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_recognize_async'>recognize_async</span> <span class='id identifier rubyid_audio_obj'>audio_obj</span><span class='period'>.</span><span class='id identifier rubyid_to_grpc'>to_grpc</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>
  <span class='const'><span class='object_link'><a href="Job.html" title="Google::Cloud::Speech::Job (class)">Job</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_grpc'>from_grpc</span> <span class='id identifier rubyid_grpc'>grpc</span><span class='comma'>,</span> <span class='id identifier rubyid_service'>service</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stream-instance_method">
  
    #<strong>stream</strong>(encoding: nil, sample_rate: nil, language: nil, max_alternatives: nil, profanity_filter: nil, phrases: nil, utterance: nil, interim: nil)  &#x21d2; <tt><span class='object_link'><a href="Stream.html" title="Google::Cloud::Speech::Stream (class)">Stream</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a Stream object to perform bidirectional streaming
speech-recognition: receive results while sending audio.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>require &quot;google/cloud/speech&quot;

speech = Google::Cloud::Speech.new

stream = audio.stream encoding: :raw, sample_rate: 16000

# register callback for when a result is returned
stream.on_result do |results|
  result = results.first
  puts result.transcript # &quot;how old is the Brooklyn Bridge&quot;
  puts result.confidence # 0.9826789498329163
end

# Stream 5 seconds of audio from the microhone
# Actual implementation of microphone input varies by platform
5.times.do
  stream.send MicrophoneInput.read(32000)
end

stream.stop</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>encoding</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Encoding of audio data to be
recognized. Optional.</p>

<p>Acceptable values are:</p>

<ul>
<li><code>raw</code> - Uncompressed 16-bit signed little-endian samples.
(LINEAR16)</li>
<li><code>flac</code> - The <a href="http://flac.sourceforge.net/documentation.html">Free Lossless Audio
Codec</a> encoding.
Only 16-bit samples are supported. Not all fields in STREAMINFO
are supported. (FLAC)</li>
<li><code>mulaw</code> - 8-bit samples that compand 14-bit audio samples using
G.711 PCMU/mu-law. (MULAW)</li>
<li><code>amr</code> - Adaptive Multi-Rate Narrowband codec. (<code>sample_rate</code> must
be 8000 Hz.) (AMR)</li>
<li><code>amr_wb</code> - Adaptive Multi-Rate Wideband codec. (<code>sample_rate</code> must
be 16000 Hz.) (AMR_WB)</li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sample_rate</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Sample rate in Hertz of the audio data
to be recognized. Valid values are: 8000-48000. 16000 is optimal.
For best results, set the sampling rate of the audio source to 16000
Hz. If that&#39;s not possible, use the native sample rate of the audio
source (instead of re-sampling). Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The language of the supplied audio as a
<a href="BCP-47">https://www.rfc-editor.org/rfc/bcp/bcp47.txt</a> language
code. If not specified, the language defaults to &quot;en-US&quot;.  See
<a href="https://cloud.google.com/speech/docs/best-practices#language_support">Language
Support</a>
for a list of the currently supported language codes. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>max_alternatives</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Maximum number of recognition
hypotheses to be returned. Default is 1. The service may return
fewer. Valid values are 0-30. Defaults to 1. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profanity_filter</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will
attempt to filter out profanities, replacing all but the initial
character in each filtered word with asterisks, e.g. &quot;f***&quot;. Default
is <code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>phrases</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of strings containing words and
phrases &quot;hints&quot; so that the speech recognition is more likely to
recognize them. See <a href="https://cloud.google.com/speech/limits#content">usage
limits</a>. Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>utterance</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, the service will perform
continuous recognition (continuing to process audio even if the user
pauses speaking) until the client closes the output stream (gRPC
API) or when the maximum time limit has been reached. Default is
<code>false</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>interim</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When <code>true</code>, interim results (tentative
hypotheses) may be returned as they become available. Default is
<code>false</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Stream.html" title="Google::Cloud::Speech::Stream (class)">Stream</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A resource that represents the streaming requests and
responses.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://cloud.google.com/speech/docs/basics#streaming-recognition" target="_parent" title="Streaming Speech API Recognition Requests">Streaming Speech API Recognition Requests</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/speech/project.rb', line 482</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stream'>stream</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>sample_rate:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>language:</span> <span class='kw'>nil</span><span class='comma'>,</span>
           <span class='label'>max_alternatives:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>profanity_filter:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>phrases:</span> <span class='kw'>nil</span><span class='comma'>,</span>
           <span class='label'>utterance:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>interim:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_service!'>ensure_service!</span>

  <span class='id identifier rubyid_grpc_req'>grpc_req</span> <span class='op'>=</span> <span class='const'>V1beta1</span><span class='op'>::</span><span class='const'>StreamingRecognizeRequest</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='label'>streaming_config:</span> <span class='const'>V1beta1</span><span class='op'>::</span><span class='const'>StreamingRecognitionConfig</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
      <span class='lbrace'>{</span>
        <span class='label'>config:</span> <span class='id identifier rubyid_audio_config'>audio_config</span><span class='lparen'>(</span><span class='label'>encoding:</span> <span class='id identifier rubyid_convert_encoding'>convert_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_encoding'>encoding</span><span class='rparen'>)</span><span class='comma'>,</span>
                             <span class='label'>sample_rate:</span> <span class='id identifier rubyid_sample_rate'>sample_rate</span><span class='comma'>,</span>
                             <span class='label'>language:</span> <span class='id identifier rubyid_language'>language</span><span class='comma'>,</span>
                             <span class='label'>max_alternatives:</span> <span class='id identifier rubyid_max_alternatives'>max_alternatives</span><span class='comma'>,</span>
                             <span class='label'>profanity_filter:</span> <span class='id identifier rubyid_profanity_filter'>profanity_filter</span><span class='comma'>,</span>
                             <span class='label'>phrases:</span> <span class='id identifier rubyid_phrases'>phrases</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>single_utterance:</span> <span class='id identifier rubyid_utterance'>utterance</span><span class='comma'>,</span>
        <span class='label'>interim_results:</span> <span class='id identifier rubyid_interim'>interim</span>
      <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='const'><span class='object_link'><a href="Stream.html" title="Google::Cloud::Speech::Stream (class)">Stream</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Speech.html#new-class_method" title="Google::Cloud::Speech.new (method)">new</a></span></span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='id identifier rubyid_grpc_req'>grpc_req</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
