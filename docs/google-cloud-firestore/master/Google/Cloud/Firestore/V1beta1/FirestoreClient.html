---
layout: yard_main
title: "Class: Google::Cloud::Firestore::V1beta1::FirestoreClient - Google"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "Google::Cloud::Firestore::V1beta1::FirestoreClient";
  relpath = '../../../../';
</script>


<div class="nav-wrap">
  <iframe id="nav" src="../../../../class_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="../../../../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span>
     &raquo; 
    <span class="title">FirestoreClient</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><h1>Class: Google::Cloud::Firestore::V1beta1::FirestoreClient
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Google::Cloud::Firestore::V1beta1::FirestoreClient</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/google/cloud/firestore/v1beta1/firestore_client.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>The Cloud Firestore service.</p>

<p>This service exposes several types of comparable timestamps:</p>

<ul>
<li>+create_time+ - The time at which a document was created. Changes only
when a document is deleted, then re-created. Increases in a strict
monotonic fashion.</li>
<li>+update_time+ - The time at which a document was last updated. Changes
every time a document is modified. Does not change when a write results
in no modifications. Increases in a strict monotonic fashion.</li>
<li>+read_time+ - The time at which a particular state was observed. Used
to denote a consistent snapshot of the database or the time at which a
Document was observed to not exist.</li>
<li>+commit_time+ - The time at which the writes in a transaction were
committed. Any read with an equal or greater +read_time+ is guaranteed
to see the effects of the transaction.</li>
</ul>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="SERVICE_ADDRESS-constant" class="">SERVICE_ADDRESS =
          <div class="docstring">
  <div class="discussion">
    <p>The default address of the service.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>firestore.googleapis.com</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="DEFAULT_SERVICE_PORT-constant" class="">DEFAULT_SERVICE_PORT =
          <div class="docstring">
  <div class="discussion">
    <p>The default port of the service.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>443</span></pre></dd>
      
        <dt id="GRPC_INTERCEPTORS-constant" class="">GRPC_INTERCEPTORS =
          <div class="docstring">
  <div class="discussion">
    <p>The default set of gRPC interceptors.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="DEFAULT_TIMEOUT-constant" class="">DEFAULT_TIMEOUT =
          
        </dt>
        <dd><pre class="code"><span class='int'>30</span></pre></dd>
      
        <dt id="ALL_SCOPES-constant" class="">ALL_SCOPES =
          <div class="docstring">
  <div class="discussion">
    <p>The scopes needed to make gRPC calls to all of the methods defined in
this service.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://www.googleapis.com/auth/cloud-platform</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://www.googleapis.com/auth/datastore</span><span class='tstring_end'>&quot;</span></span>
<span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_path_path-class_method" title="any_path_path (class method)">.<strong>any_path_path</strong>(project, database, document, any_path)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a fully-qualified any_path resource name string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#database_root_path-class_method" title="database_root_path (class method)">.<strong>database_root_path</strong>(project, database)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a fully-qualified database_root resource name string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#document_path_path-class_method" title="document_path_path (class method)">.<strong>document_path_path</strong>(project, database, document_path)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a fully-qualified document_path resource name string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#document_root_path-class_method" title="document_root_path (class method)">.<strong>document_root_path</strong>(project, database)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a fully-qualified document_root resource name string.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#batch_get_documents-instance_method" title="#batch_get_documents (instance method)">#<strong>batch_get_documents</strong>(database, documents, mask: nil, transaction: nil, new_transaction: nil, read_time: nil, options: nil)  &#x21d2; Enumerable&lt;Google::Firestore::V1beta1::BatchGetDocumentsResponse&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Gets multiple documents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#begin_transaction-instance_method" title="#begin_transaction (instance method)">#<strong>begin_transaction</strong>(database, options_: nil, options: nil) {|result, operation| ... } &#x21d2; Google::Firestore::V1beta1::BeginTransactionResponse </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Starts a new transaction.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commit-instance_method" title="#commit (instance method)">#<strong>commit</strong>(database, writes, transaction: nil, options: nil) {|result, operation| ... } &#x21d2; Google::Firestore::V1beta1::CommitResponse </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Commits a transaction, while optionally updating documents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_document-instance_method" title="#create_document (instance method)">#<strong>create_document</strong>(parent, collection_id, document_id, document, mask: nil, options: nil) {|result, operation| ... } &#x21d2; Google::Firestore::V1beta1::Document </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_document-instance_method" title="#delete_document (instance method)">#<strong>delete_document</strong>(name, current_document: nil, options: nil) {|result, operation| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Deletes a document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_document-instance_method" title="#get_document (instance method)">#<strong>get_document</strong>(name, mask: nil, transaction: nil, read_time: nil, options: nil) {|result, operation| ... } &#x21d2; Google::Firestore::V1beta1::Document </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Gets a single document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(credentials: nil, scopes: ALL_SCOPES, client_config: {}, timeout: DEFAULT_TIMEOUT, metadata: nil, exception_transformer: nil, lib_name: nil, lib_version: &quot;&quot;)  &#x21d2; FirestoreClient </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of FirestoreClient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_collection_ids-instance_method" title="#list_collection_ids (instance method)">#<strong>list_collection_ids</strong>(parent, page_size: nil, options: nil) {|result, operation| ... } &#x21d2; Google::Gax::PagedEnumerable&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Lists all the collection IDs underneath a document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_documents-instance_method" title="#list_documents (instance method)">#<strong>list_documents</strong>(parent, collection_id, page_size: nil, order_by: nil, mask: nil, transaction: nil, read_time: nil, show_missing: nil, options: nil) {|result, operation| ... } &#x21d2; Google::Gax::PagedEnumerable&lt;Google::Firestore::V1beta1::Document&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Lists documents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#listen-instance_method" title="#listen (instance method)">#<strong>listen</strong>(reqs, options: nil)  &#x21d2; Enumerable&lt;Google::Firestore::V1beta1::ListenResponse&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Listens to changes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rollback-instance_method" title="#rollback (instance method)">#<strong>rollback</strong>(database, transaction, options: nil) {|result, operation| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Rolls back a transaction.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_query-instance_method" title="#run_query (instance method)">#<strong>run_query</strong>(parent, structured_query: nil, transaction: nil, new_transaction: nil, read_time: nil, options: nil)  &#x21d2; Enumerable&lt;Google::Firestore::V1beta1::RunQueryResponse&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Runs a query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_document-instance_method" title="#update_document (instance method)">#<strong>update_document</strong>(document, update_mask, mask: nil, current_document: nil, options: nil) {|result, operation| ... } &#x21d2; Google::Firestore::V1beta1::Document </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Updates or inserts a document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write-instance_method" title="#write (instance method)">#<strong>write</strong>(reqs, options: nil)  &#x21d2; Enumerable&lt;Google::Firestore::V1beta1::WriteResponse&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Streams batches of document updates and deletes, in order.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(credentials: nil, scopes: ALL_SCOPES, client_config: {}, timeout: DEFAULT_TIMEOUT, metadata: nil, exception_transformer: nil, lib_name: nil, lib_version: &quot;&quot;)  &#x21d2; <tt><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new instance of FirestoreClient</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>credentials</span>
      
      
        <span class='type'>(<tt>Google::Auth::Credentials</tt>, <tt>String</tt>, <tt>Hash</tt>, <tt>GRPC::Core::Channel</tt>, <tt>GRPC::Core::ChannelCredentials</tt>, <tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Provides the means for authenticating requests made by the client. This parameter can
be many types.
A <code>Google::Auth::Credentials</code> uses a the properties of its represented keyfile for
authenticating requests made by this client.
A <code>String</code> will be treated as the path to the keyfile to be used for the construction of
credentials for this client.
A <code>Hash</code> will be treated as the contents of a keyfile to be used for the construction of
credentials for this client.
A <code>GRPC::Core::Channel</code> will be used to make calls through.
A <code>GRPC::Core::ChannelCredentials</code> for the setting up the RPC client. The channel credentials
should already be composed with a <code>GRPC::Core::CallCredentials</code> object.
A <code>Proc</code> will be used as an updater_proc for the Grpc channel. The proc transforms the
metadata for requests, generally, to give OAuth credentials.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>scopes</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The OAuth scopes for this service. This parameter is ignored if
an updater_proc is supplied.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>client_config</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A Hash for call options for each method. See
Google::Gax#construct_settings for the structure of
this data. Falls back to the default config if not specified
or the specified config is missing data points.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The default timeout, in seconds, for calls made through this client.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>metadata</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Default metadata to be sent with each request. This can be overridden on a per call basis.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>exception_transformer</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An optional proc that intercepts any exceptions raised during an API call to inject
custom error handling.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> \
    <span class='label'>credentials:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>scopes:</span> <span class='const'><span class='object_link'><a href="#ALL_SCOPES-constant" title="Google::Cloud::Firestore::V1beta1::FirestoreClient::ALL_SCOPES (constant)">ALL_SCOPES</a></span></span><span class='comma'>,</span>
    <span class='label'>client_config:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>timeout:</span> <span class='const'><span class='object_link'><a href="#DEFAULT_TIMEOUT-constant" title="Google::Cloud::Firestore::V1beta1::FirestoreClient::DEFAULT_TIMEOUT (constant)">DEFAULT_TIMEOUT</a></span></span><span class='comma'>,</span>
    <span class='label'>metadata:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>lib_name:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>lib_version:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># These require statements are intentionally placed here to initialize
</span>  <span class='comment'># the gRPC module only when it&#39;s required.
</span>  <span class='comment'># See https://github.com/googleapis/toolkit/issues/446
</span>  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/gax/grpc</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/firestore/v1beta1/firestore_services_pb</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_credentials'>credentials</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Credentials.html" title="Google::Cloud::Firestore::V1beta1::Credentials (class)">Credentials</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_updater_proc'>updater_proc</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Credentials.html" title="Google::Cloud::Firestore::V1beta1::Credentials (class)">Credentials</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_credentials'>credentials</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_updater_proc'>updater_proc</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>GRPC</span><span class='op'>::</span><span class='const'>Core</span><span class='op'>::</span><span class='const'>Channel</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_channel'>channel</span> <span class='op'>=</span> <span class='id identifier rubyid_credentials'>credentials</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>GRPC</span><span class='op'>::</span><span class='const'>Core</span><span class='op'>::</span><span class='const'>ChannelCredentials</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_chan_creds'>chan_creds</span> <span class='op'>=</span> <span class='id identifier rubyid_credentials'>credentials</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Proc</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_updater_proc'>updater_proc</span> <span class='op'>=</span> <span class='id identifier rubyid_credentials'>credentials</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Auth</span><span class='op'>::</span><span class='const'>Credentials</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_updater_proc'>updater_proc</span> <span class='op'>=</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_updater_proc'>updater_proc</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_package_version'>package_version</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_loaded_specs'>loaded_specs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>google-cloud-firestore</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>

  <span class='id identifier rubyid_google_api_client'>google_api_client</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gl-ruby/</span><span class='embexpr_beg'>#{</span><span class='const'>RUBY_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_google_api_client'>google_api_client</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib_name'>lib_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib_version'>lib_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_lib_name'>lib_name</span>
  <span class='id identifier rubyid_google_api_client'>google_api_client</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> gapic/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_package_version'>package_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> gax/</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='const'>VERSION</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_google_api_client'>google_api_client</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> grpc/</span><span class='embexpr_beg'>#{</span><span class='const'>GRPC</span><span class='op'>::</span><span class='const'>VERSION</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_google_api_client'>google_api_client</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>

  <span class='id identifier rubyid_headers'>headers</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='symbol'>:&quot;x-goog-api-client&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_google_api_client'>google_api_client</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_headers'>headers</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_metadata'>metadata</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_metadata'>metadata</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_client_config_file'>client_config_file</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid___dir__'>__dir__</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>firestore_client_config.json</span><span class='tstring_end'>&quot;</span></span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid_defaults'>defaults</span> <span class='op'>=</span> <span class='id identifier rubyid_client_config_file'>client_config_file</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_construct_settings'>construct_settings</span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google.firestore.v1beta1.Firestore</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='id identifier rubyid_client_config'>client_config</span><span class='comma'>,</span>
      <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='const'>Grpc</span><span class='op'>::</span><span class='const'>STATUS_CODE_NAMES</span><span class='comma'>,</span>
      <span class='id identifier rubyid_timeout'>timeout</span><span class='comma'>,</span>
      <span class='label'>page_descriptors:</span> <span class='const'>PAGE_DESCRIPTORS</span><span class='comma'>,</span>
      <span class='label'>errors:</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='const'>Grpc</span><span class='op'>::</span><span class='const'>API_ERRORS</span><span class='comma'>,</span>
      <span class='label'>metadata:</span> <span class='id identifier rubyid_headers'>headers</span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Allow overriding the service path/port in subclasses.
</span>  <span class='id identifier rubyid_service_path'>service_path</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>SERVICE_ADDRESS</span>
  <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>DEFAULT_SERVICE_PORT</span>
  <span class='id identifier rubyid_interceptors'>interceptors</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>GRPC_INTERCEPTORS</span>
  <span class='ivar'>@firestore_stub</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='const'>Grpc</span><span class='period'>.</span><span class='id identifier rubyid_create_stub'>create_stub</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_service_path'>service_path</span><span class='comma'>,</span>
    <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span>
    <span class='label'>chan_creds:</span> <span class='id identifier rubyid_chan_creds'>chan_creds</span><span class='comma'>,</span>
    <span class='label'>channel:</span> <span class='id identifier rubyid_channel'>channel</span><span class='comma'>,</span>
    <span class='label'>updater_proc:</span> <span class='id identifier rubyid_updater_proc'>updater_proc</span><span class='comma'>,</span>
    <span class='label'>scopes:</span> <span class='id identifier rubyid_scopes'>scopes</span><span class='comma'>,</span>
    <span class='label'>interceptors:</span> <span class='id identifier rubyid_interceptors'>interceptors</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'>Firestore</span><span class='op'>::</span><span class='const'>Stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:new</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='ivar'>@get_document</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:get_document</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_document</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@list_documents</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:list_documents</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list_documents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@create_document</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:create_document</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>create_document</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@update_document</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:update_document</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>update_document</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@delete_document</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:delete_document</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delete_document</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@batch_get_documents</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:batch_get_documents</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>batch_get_documents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@begin_transaction</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:begin_transaction</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>begin_transaction</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@commit</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:commit</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@rollback</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:rollback</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rollback</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@run_query</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:run_query</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>run_query</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@write</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:write</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>write</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@listen</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:listen</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>listen</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
  <span class='ivar'>@list_collection_ids</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='period'>.</span><span class='id identifier rubyid_create_api_call'>create_api_call</span><span class='lparen'>(</span>
    <span class='ivar'>@firestore_stub</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:list_collection_ids</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_defaults'>defaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list_collection_ids</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>exception_transformer:</span> <span class='id identifier rubyid_exception_transformer'>exception_transformer</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="any_path_path-class_method">
  
    .<strong>any_path_path</strong>(project, database, document, any_path)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a fully-qualified any_path resource name string.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>project</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>document</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>any_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 154</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_any_path_path'>any_path_path</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span> <span class='id identifier rubyid_document'>document</span><span class='comma'>,</span> <span class='id identifier rubyid_any_path'>any_path</span>
  <span class='const'>ANY_PATH_PATH_TEMPLATE</span><span class='period'>.</span><span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span>
    <span class='symbol'>:&quot;project&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span>
    <span class='symbol'>:&quot;database&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='symbol'>:&quot;document&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_document'>document</span><span class='comma'>,</span>
    <span class='symbol'>:&quot;any_path&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_any_path'>any_path</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="database_root_path-class_method">
  
    .<strong>database_root_path</strong>(project, database)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a fully-qualified database_root resource name string.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>project</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 117</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_database_root_path'>database_root_path</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_database'>database</span>
  <span class='const'>DATABASE_ROOT_PATH_TEMPLATE</span><span class='period'>.</span><span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span>
    <span class='symbol'>:&quot;project&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span>
    <span class='symbol'>:&quot;database&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_database'>database</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="document_path_path-class_method">
  
    .<strong>document_path_path</strong>(project, database, document_path)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a fully-qualified document_path resource name string.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>project</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>document_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 140</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_document_path_path'>document_path_path</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span> <span class='id identifier rubyid_document_path'>document_path</span>
  <span class='const'>DOCUMENT_PATH_PATH_TEMPLATE</span><span class='period'>.</span><span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span>
    <span class='symbol'>:&quot;project&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span>
    <span class='symbol'>:&quot;database&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='symbol'>:&quot;document_path&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_document_path'>document_path</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="document_root_path-class_method">
  
    .<strong>document_root_path</strong>(project, database)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a fully-qualified document_root resource name string.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>project</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


128
129
130
131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 128</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_document_root_path'>document_root_path</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_database'>database</span>
  <span class='const'>DOCUMENT_ROOT_PATH_TEMPLATE</span><span class='period'>.</span><span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span>
    <span class='symbol'>:&quot;project&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span>
    <span class='symbol'>:&quot;database&quot;</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_database'>database</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="batch_get_documents-instance_method">
  
    #<strong>batch_get_documents</strong>(database, documents, mask: nil, transaction: nil, new_transaction: nil, read_time: nil, options: nil)  &#x21d2; <tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/BatchGetDocumentsResponse.html" title="Google::Firestore::V1beta1::BatchGetDocumentsResponse (class)">Google::Firestore::V1beta1::BatchGetDocumentsResponse</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Gets multiple documents.</p>

<p>Documents returned by this method are not guaranteed to be returned in the
same order that they were requested.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_database_root_path'><span class='object_link'><a href="#database_root_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.database_root_path (method)">database_root_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='comment'># TODO: Initialize +documents+:
</span><span class='id identifier rubyid_documents'>documents</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_batch_get_documents'>batch_get_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_database'>formatted_database</span><span class='comma'>,</span> <span class='id identifier rubyid_documents'>documents</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
  <span class='comment'># Process element.
</span><span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The database name. In the format:
+projects/{project_id}/databases/{database_id}+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>documents</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The names of the documents to retrieve. In the format:
+projects/{project_id}/databases/{database_id}/documents/{document_path}+.
The request will fail if any of the document is not a child resource of the
given +database+. Duplicate names will be elided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mask</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/DocumentMask.html" title="Google::Firestore::V1beta1::DocumentMask (class)">Google::Firestore::V1beta1::DocumentMask</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fields to return. If not set, returns all fields.</p>

<p>If a document has a field that is not present in this mask, that field will
not be returned in the response.
A hash of the same form as <code>Google::Firestore::V1beta1::DocumentMask</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>transaction</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads documents in a transaction.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>new_transaction</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/TransactionOptions.html" title="Google::Firestore::V1beta1::TransactionOptions (class)">Google::Firestore::V1beta1::TransactionOptions</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Starts a new transaction and reads the documents.
Defaults to a read-only transaction.
The new transaction ID will be returned as the first response in the
stream.
A hash of the same form as <code>Google::Firestore::V1beta1::TransactionOptions</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>read_time</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Protobuf/Timestamp.html" title="Google::Protobuf::Timestamp (class)">Google::Protobuf::Timestamp</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads documents as they were at the given time.
This may not be older than 60 seconds.
A hash of the same form as <code>Google::Protobuf::Timestamp</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/BatchGetDocumentsResponse.html" title="Google::Firestore::V1beta1::BatchGetDocumentsResponse (class)">Google::Firestore::V1beta1::BatchGetDocumentsResponse</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An enumerable of Google::Firestore::V1beta1::BatchGetDocumentsResponse instances.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 710</span>

<span class='kw'>def</span> <span class='id identifier rubyid_batch_get_documents'>batch_get_documents</span> \
    <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='id identifier rubyid_documents'>documents</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>new_transaction:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>database:</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='label'>documents:</span> <span class='id identifier rubyid_documents'>documents</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='id identifier rubyid_mask'>mask</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='id identifier rubyid_transaction'>transaction</span><span class='comma'>,</span>
    <span class='label'>new_transaction:</span> <span class='id identifier rubyid_new_transaction'>new_transaction</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='id identifier rubyid_read_time'>read_time</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/BatchGetDocumentsRequest.html" title="Google::Firestore::V1beta1::BatchGetDocumentsRequest (class)">BatchGetDocumentsRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@batch_get_documents</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="begin_transaction-instance_method">
  
    #<strong>begin_transaction</strong>(database, options_: nil, options: nil) {|result, operation| ... } &#x21d2; <tt><span class='object_link'><a href="../../../Firestore/V1beta1/BeginTransactionResponse.html" title="Google::Firestore::V1beta1::BeginTransactionResponse (class)">Google::Firestore::V1beta1::BeginTransactionResponse</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Starts a new transaction.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_database_root_path'><span class='object_link'><a href="#database_root_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.database_root_path (method)">database_root_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_begin_transaction'>begin_transaction</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_database'>formatted_database</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The database name. In the format:
+projects/{project_id}/databases/{database_id}+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options_</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/TransactionOptions.html" title="Google::Firestore::V1beta1::TransactionOptions (class)">Google::Firestore::V1beta1::TransactionOptions</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The options for the transaction.
Defaults to a read-write transaction.
A hash of the same form as <code>Google::Firestore::V1beta1::TransactionOptions</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/BeginTransactionResponse.html" title="Google::Firestore::V1beta1::BeginTransactionResponse (class)">Google::Firestore::V1beta1::BeginTransactionResponse</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/BeginTransactionResponse.html" title="Google::Firestore::V1beta1::BeginTransactionResponse (class)">Google::Firestore::V1beta1::BeginTransactionResponse</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


755
756
757
758
759
760
761
762
763
764
765
766</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 755</span>

<span class='kw'>def</span> <span class='id identifier rubyid_begin_transaction'>begin_transaction</span> \
    <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='label'>options_:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>database:</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='id identifier rubyid_options_'>options_</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/BeginTransactionRequest.html" title="Google::Firestore::V1beta1::BeginTransactionRequest (class)">BeginTransactionRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@begin_transaction</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="commit-instance_method">
  
    #<strong>commit</strong>(database, writes, transaction: nil, options: nil) {|result, operation| ... } &#x21d2; <tt><span class='object_link'><a href="../../../Firestore/V1beta1/CommitResponse.html" title="Google::Firestore::V1beta1::CommitResponse (class)">Google::Firestore::V1beta1::CommitResponse</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Commits a transaction, while optionally updating documents.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_database_root_path'><span class='object_link'><a href="#database_root_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.database_root_path (method)">database_root_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='comment'># TODO: Initialize +writes+:
</span><span class='id identifier rubyid_writes'>writes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_commit'>commit</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_database'>formatted_database</span><span class='comma'>,</span> <span class='id identifier rubyid_writes'>writes</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The database name. In the format:
+projects/{project_id}/databases/{database_id}+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>writes</span>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/Write.html" title="Google::Firestore::V1beta1::Write (class)">Google::Firestore::V1beta1::Write</a></span> | Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The writes to apply.</p>

<p>Always executed atomically and in order.
A hash of the same form as <code>Google::Firestore::V1beta1::Write</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>transaction</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If set, applies all writes in this transaction, and commits it.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/CommitResponse.html" title="Google::Firestore::V1beta1::CommitResponse (class)">Google::Firestore::V1beta1::CommitResponse</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/CommitResponse.html" title="Google::Firestore::V1beta1::CommitResponse (class)">Google::Firestore::V1beta1::CommitResponse</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


799
800
801
802
803
804
805
806
807
808
809
810
811
812</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 799</span>

<span class='kw'>def</span> <span class='id identifier rubyid_commit'>commit</span> \
    <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='id identifier rubyid_writes'>writes</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>database:</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='label'>writes:</span> <span class='id identifier rubyid_writes'>writes</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='id identifier rubyid_transaction'>transaction</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/CommitRequest.html" title="Google::Firestore::V1beta1::CommitRequest (class)">CommitRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@commit</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_document-instance_method">
  
    #<strong>create_document</strong>(parent, collection_id, document_id, document, mask: nil, options: nil) {|result, operation| ... } &#x21d2; <tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a new document.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_parent'>formatted_parent</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_any_path_path'><span class='object_link'><a href="#any_path_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.any_path_path (method)">any_path_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DOCUMENT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ANY_PATH]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='comment'># TODO: Initialize +collection_id+:
</span><span class='id identifier rubyid_collection_id'>collection_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># TODO: Initialize +document_id+:
</span><span class='id identifier rubyid_document_id'>document_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># TODO: Initialize +document+:
</span><span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_create_document'>create_document</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_parent'>formatted_parent</span><span class='comma'>,</span> <span class='id identifier rubyid_collection_id'>collection_id</span><span class='comma'>,</span> <span class='id identifier rubyid_document_id'>document_id</span><span class='comma'>,</span> <span class='id identifier rubyid_document'>document</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parent</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parent resource. For example:
+projects/{project_id}/databases/{database_id}/documents+ or
+projects/{project_id}/databases/{database_id}/documents/chatrooms/{chatroom_id}+</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>collection_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The collection ID, relative to +parent+, to list. For example: +chatrooms+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>document_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The client-assigned document ID to use for this document.</p>

<p>Optional. If not specified, an ID will be assigned by the service.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>document</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The document to create. +name+ must not be set.
A hash of the same form as <code>Google::Firestore::V1beta1::Document</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mask</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/DocumentMask.html" title="Google::Firestore::V1beta1::DocumentMask (class)">Google::Firestore::V1beta1::DocumentMask</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fields to return. If not set, returns all fields.</p>

<p>If the document has a field that is not present in this mask, that field
will not be returned in the response.
A hash of the same form as <code>Google::Firestore::V1beta1::DocumentMask</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 534</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_document'>create_document</span> \
    <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='id identifier rubyid_collection_id'>collection_id</span><span class='comma'>,</span>
    <span class='id identifier rubyid_document_id'>document_id</span><span class='comma'>,</span>
    <span class='id identifier rubyid_document'>document</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>parent:</span> <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='label'>collection_id:</span> <span class='id identifier rubyid_collection_id'>collection_id</span><span class='comma'>,</span>
    <span class='label'>document_id:</span> <span class='id identifier rubyid_document_id'>document_id</span><span class='comma'>,</span>
    <span class='label'>document:</span> <span class='id identifier rubyid_document'>document</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='id identifier rubyid_mask'>mask</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/CreateDocumentRequest.html" title="Google::Firestore::V1beta1::CreateDocumentRequest (class)">CreateDocumentRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@create_document</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_document-instance_method">
  
    #<strong>delete_document</strong>(name, current_document: nil, options: nil) {|result, operation| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Deletes a document.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_name'>formatted_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_any_path_path'><span class='object_link'><a href="#any_path_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.any_path_path (method)">any_path_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DOCUMENT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ANY_PATH]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_delete_document'>delete_document</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_name'>formatted_name</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The resource name of the Document to delete. In the format:
+projects/{project_id}/databases/{database_id}/documents/{document_path}+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>current_document</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Precondition.html" title="Google::Firestore::V1beta1::Precondition (class)">Google::Firestore::V1beta1::Precondition</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An optional precondition on the document.
The request will fail if this is set and not met by the target document.
A hash of the same form as <code>Google::Firestore::V1beta1::Precondition</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><p>[]</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


643
644
645
646
647
648
649
650
651
652
653
654
655</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 643</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_document'>delete_document</span> \
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>current_document:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>current_document:</span> <span class='id identifier rubyid_current_document'>current_document</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/DeleteDocumentRequest.html" title="Google::Firestore::V1beta1::DeleteDocumentRequest (class)">DeleteDocumentRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@delete_document</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_document-instance_method">
  
    #<strong>get_document</strong>(name, mask: nil, transaction: nil, read_time: nil, options: nil) {|result, operation| ... } &#x21d2; <tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Gets a single document.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_name'>formatted_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_any_path_path'><span class='object_link'><a href="#any_path_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.any_path_path (method)">any_path_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DOCUMENT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ANY_PATH]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_get_document'>get_document</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_name'>formatted_name</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The resource name of the Document to get. In the format:
+projects/{project_id}/databases/{database_id}/documents/{document_path}+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mask</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/DocumentMask.html" title="Google::Firestore::V1beta1::DocumentMask (class)">Google::Firestore::V1beta1::DocumentMask</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fields to return. If not set, returns all fields.</p>

<p>If the document has a field that is not present in this mask, that field
will not be returned in the response.
A hash of the same form as <code>Google::Firestore::V1beta1::DocumentMask</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>transaction</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads the document in a transaction.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>read_time</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Protobuf/Timestamp.html" title="Google::Protobuf::Timestamp (class)">Google::Protobuf::Timestamp</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads the version of the document at the given time.
This may not be older than 60 seconds.
A hash of the same form as <code>Google::Protobuf::Timestamp</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 369</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_document'>get_document</span> \
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='id identifier rubyid_mask'>mask</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='id identifier rubyid_transaction'>transaction</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='id identifier rubyid_read_time'>read_time</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/GetDocumentRequest.html" title="Google::Firestore::V1beta1::GetDocumentRequest (class)">GetDocumentRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@get_document</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_collection_ids-instance_method">
  
    #<strong>list_collection_ids</strong>(parent, page_size: nil, options: nil) {|result, operation| ... } &#x21d2; <tt>Google::Gax::PagedEnumerable&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Lists all the collection IDs underneath a document.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_parent'>formatted_parent</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_any_path_path'><span class='object_link'><a href="#any_path_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.any_path_path (method)">any_path_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DOCUMENT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ANY_PATH]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='comment'># Iterate over all results.
</span><span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_list_collection_ids'>list_collection_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_parent'>formatted_parent</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
  <span class='comment'># Process element.
</span><span class='kw'>end</span>

<span class='comment'># Or iterate over results one page at a time.
</span><span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_list_collection_ids'>list_collection_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_parent'>formatted_parent</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_page'>each_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
  <span class='comment'># Process each page at a time.
</span>  <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
    <span class='comment'># Process element.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parent</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parent document. In the format:
+projects/{project_id}/databases/{database_id}/documents/{document_path}+.
For example:
+projects/my-project/databases/my-database/documents/chatrooms/my-chatroom+</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page_size</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The maximum number of resources contained in the underlying API
response. If page streaming is performed per-resource, this
parameter does not affect the return value. If page streaming is
performed per-page, this determines the maximum number of
resources in a page.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'>(<tt>Google::Gax::PagedEnumerable&lt;String&gt;</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::PagedEnumerable&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An enumerable of String instances.
See Google::Gax::PagedEnumerable documentation for other
operations such as per-page iteration or access to the response
object.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 1027</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_collection_ids'>list_collection_ids</span> \
    <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='label'>page_size:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>parent:</span> <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='label'>page_size:</span> <span class='id identifier rubyid_page_size'>page_size</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/ListCollectionIdsRequest.html" title="Google::Firestore::V1beta1::ListCollectionIdsRequest (class)">ListCollectionIdsRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@list_collection_ids</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_documents-instance_method">
  
    #<strong>list_documents</strong>(parent, collection_id, page_size: nil, order_by: nil, mask: nil, transaction: nil, read_time: nil, show_missing: nil, options: nil) {|result, operation| ... } &#x21d2; <tt>Google::Gax::PagedEnumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Lists documents.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_parent'>formatted_parent</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_any_path_path'><span class='object_link'><a href="#any_path_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.any_path_path (method)">any_path_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DOCUMENT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ANY_PATH]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='comment'># TODO: Initialize +collection_id+:
</span><span class='id identifier rubyid_collection_id'>collection_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># Iterate over all results.
</span><span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_list_documents'>list_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_parent'>formatted_parent</span><span class='comma'>,</span> <span class='id identifier rubyid_collection_id'>collection_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
  <span class='comment'># Process element.
</span><span class='kw'>end</span>

<span class='comment'># Or iterate over results one page at a time.
</span><span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_list_documents'>list_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_parent'>formatted_parent</span><span class='comma'>,</span> <span class='id identifier rubyid_collection_id'>collection_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_page'>each_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
  <span class='comment'># Process each page at a time.
</span>  <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
    <span class='comment'># Process element.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parent</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parent resource name. In the format:
+projects/{project_id}/databases/{database_id}/documents+ or
+projects/{project_id}/databases/{database_id}/documents/{document_path}+.
For example:
+projects/my-project/databases/my-database/documents+ or
+projects/my-project/databases/my-database/documents/chatrooms/my-chatroom+</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>collection_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The collection ID, relative to +parent+, to list. For example: +chatrooms+
or +messages+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page_size</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The maximum number of resources contained in the underlying API
response. If page streaming is performed per-resource, this
parameter does not affect the return value. If page streaming is
performed per-page, this determines the maximum number of
resources in a page.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>order_by</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The order to sort results by. For example: +priority desc, name+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mask</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/DocumentMask.html" title="Google::Firestore::V1beta1::DocumentMask (class)">Google::Firestore::V1beta1::DocumentMask</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fields to return. If not set, returns all fields.</p>

<p>If a document has a field that is not present in this mask, that field
will not be returned in the response.
A hash of the same form as <code>Google::Firestore::V1beta1::DocumentMask</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>transaction</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads documents in a transaction.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>read_time</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Protobuf/Timestamp.html" title="Google::Protobuf::Timestamp (class)">Google::Protobuf::Timestamp</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads documents as they were at the given time.
This may not be older than 60 seconds.
A hash of the same form as <code>Google::Protobuf::Timestamp</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>show_missing</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the list should show missing documents. A missing document is a
document that does not exist but has sub-documents. These documents will
be returned with a key but will not have fields, <span class='object_link'><a href="../../../Firestore/V1beta1/Document.html#create_time-instance_method" title="Google::Firestore::V1beta1::Document#create_time (method)">Document#create_time</a></span>,
or <span class='object_link'><a href="../../../Firestore/V1beta1/Document.html#update_time-instance_method" title="Google::Firestore::V1beta1::Document#update_time (method)">Document#update_time</a></span> set.</p>

<p>Requests with +show_missing+ may not specify +where+ or
+order_by+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'>(<tt>Google::Gax::PagedEnumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::PagedEnumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An enumerable of Google::Firestore::V1beta1::Document instances.
See Google::Gax::PagedEnumerable documentation for other
operations such as per-page iteration or access to the response
object.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 462</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_documents'>list_documents</span> \
    <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='id identifier rubyid_collection_id'>collection_id</span><span class='comma'>,</span>
    <span class='label'>page_size:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>order_by:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>show_missing:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>parent:</span> <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='label'>collection_id:</span> <span class='id identifier rubyid_collection_id'>collection_id</span><span class='comma'>,</span>
    <span class='label'>page_size:</span> <span class='id identifier rubyid_page_size'>page_size</span><span class='comma'>,</span>
    <span class='label'>order_by:</span> <span class='id identifier rubyid_order_by'>order_by</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='id identifier rubyid_mask'>mask</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='id identifier rubyid_transaction'>transaction</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='id identifier rubyid_read_time'>read_time</span><span class='comma'>,</span>
    <span class='label'>show_missing:</span> <span class='id identifier rubyid_show_missing'>show_missing</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/ListDocumentsRequest.html" title="Google::Firestore::V1beta1::ListDocumentsRequest (class)">ListDocumentsRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@list_documents</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="listen-instance_method">
  
    #<strong>listen</strong>(reqs, options: nil)  &#x21d2; <tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/ListenResponse.html" title="Google::Firestore::V1beta1::ListenResponse (class)">Google::Firestore::V1beta1::ListenResponse</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>EXPERIMENTAL:
  Streaming requests are still undergoing review.
  This method interface might change in the future.</p>
</div>
  </div>

<p>Listens to changes.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_database_root_path'><span class='object_link'><a href="#database_root_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.database_root_path (method)">database_root_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>database:</span> <span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_requests'>requests</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_listen'>listen</span><span class='lparen'>(</span><span class='id identifier rubyid_requests'>requests</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
  <span class='comment'># Process element.
</span><span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>reqs</span>
      
      
        <span class='type'>(<tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/ListenRequest.html" title="Google::Firestore::V1beta1::ListenRequest (class)">Google::Firestore::V1beta1::ListenRequest</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The input requests.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/ListenResponse.html" title="Google::Firestore::V1beta1::ListenResponse (class)">Google::Firestore::V1beta1::ListenResponse</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An enumerable of Google::Firestore::V1beta1::ListenResponse instances.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


976
977
978
979
980
981</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 976</span>

<span class='kw'>def</span> <span class='id identifier rubyid_listen'>listen</span> <span class='id identifier rubyid_reqs'>reqs</span><span class='comma'>,</span> <span class='label'>options:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_request_protos'>request_protos</span> <span class='op'>=</span> <span class='id identifier rubyid_reqs'>reqs</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_req'>req</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/ListenRequest.html" title="Google::Firestore::V1beta1::ListenRequest (class)">ListenRequest</a></span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@listen</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_request_protos'>request_protos</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rollback-instance_method">
  
    #<strong>rollback</strong>(database, transaction, options: nil) {|result, operation| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Rolls back a transaction.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_database_root_path'><span class='object_link'><a href="#database_root_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.database_root_path (method)">database_root_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='comment'># TODO: Initialize +transaction+:
</span><span class='id identifier rubyid_transaction'>transaction</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_rollback'>rollback</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_database'>formatted_database</span><span class='comma'>,</span> <span class='id identifier rubyid_transaction'>transaction</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>database</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The database name. In the format:
+projects/{project_id}/databases/{database_id}+.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>transaction</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The transaction to roll back.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><p>[]</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


838
839
840
841
842
843
844
845
846
847
848
849
850</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 838</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rollback'>rollback</span> \
    <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='id identifier rubyid_transaction'>transaction</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>database:</span> <span class='id identifier rubyid_database'>database</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='id identifier rubyid_transaction'>transaction</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/RollbackRequest.html" title="Google::Firestore::V1beta1::RollbackRequest (class)">RollbackRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@rollback</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_query-instance_method">
  
    #<strong>run_query</strong>(parent, structured_query: nil, transaction: nil, new_transaction: nil, read_time: nil, options: nil)  &#x21d2; <tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/RunQueryResponse.html" title="Google::Firestore::V1beta1::RunQueryResponse (class)">Google::Firestore::V1beta1::RunQueryResponse</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Runs a query.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_parent'>formatted_parent</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_any_path_path'><span class='object_link'><a href="#any_path_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.any_path_path (method)">any_path_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DOCUMENT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ANY_PATH]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_run_query'>run_query</span><span class='lparen'>(</span><span class='id identifier rubyid_formatted_parent'>formatted_parent</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
  <span class='comment'># Process element.
</span><span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parent</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parent resource name. In the format:
+projects/{project_id}/databases/{database_id}/documents+ or
+projects/{project_id}/databases/{database_id}/documents/{document_path}+.
For example:
+projects/my-project/databases/my-database/documents+ or
+projects/my-project/databases/my-database/documents/chatrooms/my-chatroom+</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>structured_query</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/StructuredQuery.html" title="Google::Firestore::V1beta1::StructuredQuery (class)">Google::Firestore::V1beta1::StructuredQuery</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A structured query.
A hash of the same form as <code>Google::Firestore::V1beta1::StructuredQuery</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>transaction</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads documents in a transaction.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>new_transaction</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/TransactionOptions.html" title="Google::Firestore::V1beta1::TransactionOptions (class)">Google::Firestore::V1beta1::TransactionOptions</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Starts a new transaction and reads the documents.
Defaults to a read-only transaction.
The new transaction ID will be returned as the first response in the
stream.
A hash of the same form as <code>Google::Firestore::V1beta1::TransactionOptions</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>read_time</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Protobuf/Timestamp.html" title="Google::Protobuf::Timestamp (class)">Google::Protobuf::Timestamp</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Reads documents as they were at the given time.
This may not be older than 60 seconds.
A hash of the same form as <code>Google::Protobuf::Timestamp</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/RunQueryResponse.html" title="Google::Firestore::V1beta1::RunQueryResponse (class)">Google::Firestore::V1beta1::RunQueryResponse</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An enumerable of Google::Firestore::V1beta1::RunQueryResponse instances.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 895</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_query'>run_query</span> \
    <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='label'>structured_query:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>new_transaction:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>parent:</span> <span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span>
    <span class='label'>structured_query:</span> <span class='id identifier rubyid_structured_query'>structured_query</span><span class='comma'>,</span>
    <span class='label'>transaction:</span> <span class='id identifier rubyid_transaction'>transaction</span><span class='comma'>,</span>
    <span class='label'>new_transaction:</span> <span class='id identifier rubyid_new_transaction'>new_transaction</span><span class='comma'>,</span>
    <span class='label'>read_time:</span> <span class='id identifier rubyid_read_time'>read_time</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/RunQueryRequest.html" title="Google::Firestore::V1beta1::RunQueryRequest (class)">RunQueryRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@run_query</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_document-instance_method">
  
    #<strong>update_document</strong>(document, update_mask, mask: nil, current_document: nil, options: nil) {|result, operation| ... } &#x21d2; <tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Updates or inserts a document.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>

<span class='comment'># TODO: Initialize +document+:
</span><span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

<span class='comment'># TODO: Initialize +update_mask+:
</span><span class='id identifier rubyid_update_mask'>update_mask</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_update_document'>update_document</span><span class='lparen'>(</span><span class='id identifier rubyid_document'>document</span><span class='comma'>,</span> <span class='id identifier rubyid_update_mask'>update_mask</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>document</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The updated document.
Creates the document if it does not already exist.
A hash of the same form as <code>Google::Firestore::V1beta1::Document</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_mask</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/DocumentMask.html" title="Google::Firestore::V1beta1::DocumentMask (class)">Google::Firestore::V1beta1::DocumentMask</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fields to update.
None of the field paths in the mask may contain a reserved name.</p>

<p>If the document exists on the server and has fields not referenced in the
mask, they are left unchanged.
Fields referenced in the mask, but not present in the input document, are
deleted from the document on the server.
A hash of the same form as <code>Google::Firestore::V1beta1::DocumentMask</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mask</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/DocumentMask.html" title="Google::Firestore::V1beta1::DocumentMask (class)">Google::Firestore::V1beta1::DocumentMask</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fields to return. If not set, returns all fields.</p>

<p>If the document has a field that is not present in this mask, that field
will not be returned in the response.
A hash of the same form as <code>Google::Firestore::V1beta1::DocumentMask</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>current_document</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Precondition.html" title="Google::Firestore::V1beta1::Precondition (class)">Google::Firestore::V1beta1::Precondition</a></span> | Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An optional precondition on the document.
The request will fail if this is set and not met by the target document.
A hash of the same form as <code>Google::Firestore::V1beta1::Precondition</code>
can also be provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>result</tt>, <tt>operation</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Access the result along with the RPC operation</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>result</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>operation</span>
      
      
        <span class='type'>(<tt>GRPC::ActiveCall::Operation</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Firestore/V1beta1/Document.html" title="Google::Firestore::V1beta1::Document (class)">Google::Firestore::V1beta1::Document</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 602</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_document'>update_document</span> \
    <span class='id identifier rubyid_document'>document</span><span class='comma'>,</span>
    <span class='id identifier rubyid_update_mask'>update_mask</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>current_document:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='label'>options:</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>document:</span> <span class='id identifier rubyid_document'>document</span><span class='comma'>,</span>
    <span class='label'>update_mask:</span> <span class='id identifier rubyid_update_mask'>update_mask</span><span class='comma'>,</span>
    <span class='label'>mask:</span> <span class='id identifier rubyid_mask'>mask</span><span class='comma'>,</span>
    <span class='label'>current_document:</span> <span class='id identifier rubyid_current_document'>current_document</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/UpdateDocumentRequest.html" title="Google::Firestore::V1beta1::UpdateDocumentRequest (class)">UpdateDocumentRequest</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@update_document</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write-instance_method">
  
    #<strong>write</strong>(reqs, options: nil)  &#x21d2; <tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/WriteResponse.html" title="Google::Firestore::V1beta1::WriteResponse (class)">Google::Firestore::V1beta1::WriteResponse</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>EXPERIMENTAL:
  Streaming requests are still undergoing review.
  This method interface might change in the future.</p>
</div>
  </div>

<p>Streams batches of document updates and deletes, in order.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/firestore/v1beta1</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_firestore_client'>firestore_client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../V1beta1.html#new-class_method" title="Google::Cloud::Firestore::V1beta1.new (method)">new</a></span></span>
<span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Firestore.html" title="Google::Cloud::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../V1beta1.html" title="Google::Cloud::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Google::Cloud::Firestore::V1beta1::FirestoreClient (class)">FirestoreClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_database_root_path'><span class='object_link'><a href="#database_root_path-class_method" title="Google::Cloud::Firestore::V1beta1::FirestoreClient.database_root_path (method)">database_root_path</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[PROJECT]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[DATABASE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>database:</span> <span class='id identifier rubyid_formatted_database'>formatted_database</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_requests'>requests</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_firestore_client'>firestore_client</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_requests'>requests</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
  <span class='comment'># Process element.
</span><span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>reqs</span>
      
      
        <span class='type'>(<tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/WriteRequest.html" title="Google::Firestore::V1beta1::WriteRequest (class)">Google::Firestore::V1beta1::WriteRequest</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The input requests.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Google::Gax::CallOptions</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Overrides the default settings for this call, e.g, timeout,
retries, etc.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerable&lt;<span class='object_link'><a href="../../../Firestore/V1beta1/WriteResponse.html" title="Google::Firestore::V1beta1::WriteResponse (class)">Google::Firestore::V1beta1::WriteResponse</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An enumerable of Google::Firestore::V1beta1::WriteResponse instances.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Gax::GaxError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the RPC is aborted.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


941
942
943
944
945
946</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/firestore/v1beta1/firestore_client.rb', line 941</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_reqs'>reqs</span><span class='comma'>,</span> <span class='label'>options:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_request_protos'>request_protos</span> <span class='op'>=</span> <span class='id identifier rubyid_reqs'>reqs</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_req'>req</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'>Gax</span><span class='op'>::</span><span class='id identifier rubyid_to_proto'>to_proto</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore.html" title="Google::Firestore (module)">Firestore</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1.html" title="Google::Firestore::V1beta1 (module)">V1beta1</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Firestore/V1beta1/WriteRequest.html" title="Google::Firestore::V1beta1::WriteRequest (class)">WriteRequest</a></span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@write</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_request_protos'>request_protos</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
