<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>Gcloud::Dns &mdash; Gcloud Documentation</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//googlecloudplatform.github.io/gcloud-ruby/css/normalize.css">
    <link rel="stylesheet" href="//googlecloudplatform.github.io/gcloud-ruby/css/main.css">
    <script src="//googlecloudplatform.github.io/gcloud-ruby/js/vendor/modernizr-2.6.2.min.js"></script>
    <link href='//fonts.googleapis.com/css?family=Droid+Sans+Mono|Roboto:300,400,700,700italic,400italic|Open+Sans:300' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="https://cloud.google.com/images/gcp-favicon.ico">
  </head>

  <body class="lang-page">
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <header class="page-header fixed" role="banner">
      <h1 class="logo">
        <a href="//googlecloudplatform.github.io/gcloud-ruby/" title="back to home">
          <img src="//googlecloudplatform.github.io/gcloud-ruby/img/logo.svg" alt="Google Cloud Platform">
          <span class="gcloud">gcloud</span>
        </a>
      </h1>

      <nav class="main-nav">
        <div class="nav-current">Ruby</div>
        <ul class="menu">
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-java/" title="gcloud-java">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-java.svg" alt="Java icon" class="menu-icon" />
              Java
            </a>
          </li>
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-node/#/docs" title="gcloud-node">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-nodejs.svg" alt="Node.js icon" class="menu-icon">
              Node.js
            </a>
          </li>
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-python/latest/" title="gcloud-python">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-python.svg" alt="Python icon" class="menu-icon">
              Python
            </a>
          </li>
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-ruby/" title="gcloud-ruby">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-ruby.svg" alt="Ruby icon" class="menu-icon" width="24">
              Ruby
            </a>
          </li>
        </ul>
      </nav>

      <div class="github-issue">
        <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues/new?title=%5BDocumentation+Issue%5D+" target="_blank" class="v-btn">
          <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-github.svg" />
          Report an Issue
        </a>
      </div>
    </header>

    <article class="main lang-page" role="main">

      <header class="docs-header">
        <h1 class="page-title">Gcloud::Dns</h1>
      </header>

      <section class="content">

        <div id="description" class="description">
          <h1 id="google-cloud-dns">Google Cloud DNS</h1>

<p>Google Cloud DNS is a high-performance, resilient, global DNS service that
provides a cost-effective way to make your applications and services
available to your users. This programmable, authoritative DNS service can be
used to easily publish and manage DNS records using the same infrastructure
relied upon by Google. To learn more, read <a href="https://cloud.google.com/dns/what-is-cloud-dns">What is Google Cloud
DNS?</a>.</p>

<p>The goal of gcloud-ruby is to provide an API that is comfortable
to Rubyists. Authentication is handled by <span class='object_link'><a href="../Gcloud.html#dns-instance_method" title="Gcloud#dns (method)">#dns</a></span>. You can provide the
project and credential information to connect to the Cloud DNS service, or
if you are running on Google Compute Engine this configuration is taken care
of for you. You can read more about the options for connecting in the
<a href="https://googlecloudplatform.github.io/gcloud-ruby/#/docs/guides/authentication">Authentication
Guide</a>.</p>

<h2 id="creating-zones">Creating Zones</h2>

<p>To get started with Google Cloud DNS, use your DNS Project to create a new
Zone. The second argument to <span class='object_link'><a href="Dns/Project.html#create_zone-instance_method" title="Gcloud::Dns::Project#create_zone (method)">Project#create_zone</a></span> must be a
unique domain name for which you can <a href="https://www.google.com/webmasters/verification/home">verify
ownership</a>. Substitute
a domain name of your own (ending with a dot to signify that it is <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully
qualified</a>) as
you follow along with these examples.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">create_zone</span> <span class="s2">"example-com"</span><span class="p">,</span> <span class="s2">"example.com."</span>
<span class="nb">puts</span> <span class="n">zone</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># unique identifier defined by the server</span>
</code></pre>
</div>

<p>For more information, see <a href="https://cloud.google.com/dns/zones/">Managing
Zones</a>.</p>

<h2 id="listing-zones">Listing Zones</h2>

<p>You can retrieve all the zones in your project.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zones</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zones</span>
<span class="n">zones</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">zone</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">zone</span><span class="p">.</span><span class="nf">name</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">zone</span><span class="p">.</span><span class="nf">dns</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre>
</div>

<p>You can also retrieve a single zone by either name or id.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
</code></pre>
</div>

<h2 id="listing-records">Listing Records</h2>

<p>When you create a zone, the Cloud DNS service automatically creates two
Record instances for it, providing configuration for Cloud DNS nameservers.
Let’s take a look at these records.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">records</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">records</span>
<span class="n">records</span><span class="p">.</span><span class="nf">count</span> <span class="c1">#=&gt; 2</span>
<span class="n">records</span><span class="p">.</span><span class="nf">map</span> <span class="o">&amp;</span><span class="ss">:type</span> <span class="c1">#=&gt; ["NS", "SOA"]</span>
<span class="n">zone</span><span class="p">.</span><span class="nf">records</span><span class="p">.</span><span class="nf">first</span><span class="p">.</span><span class="nf">data</span><span class="p">.</span><span class="nf">count</span> <span class="c1">#=&gt; 4</span>
<span class="n">zone</span><span class="p">.</span><span class="nf">records</span><span class="p">.</span><span class="nf">first</span><span class="p">.</span><span class="nf">data</span> <span class="c1">#=&gt; ["ns-cloud-d1.googledomains.com.", ...]</span>
</code></pre>
</div>

<p>Note that <span class='object_link'><a href="Dns/Record.html#data-instance_method" title="Gcloud::Dns::Record#data (method)">Record#data</a></span> returns an array. The Cloud DNS service
only allows the zone to have one Record instance for each name and type
combination. It supports multiple “resource records” (in this case, the four
nameserver addresses) via this <code class="highlighter-rouge">data</code> collection.</p>

<h2 id="managing-records">Managing Records</h2>

<p>You can easily add your own records to the zone. Each call to
<span class='object_link'><a href="Dns/Zone.html#add-instance_method" title="Gcloud::Dns::Zone#add (method)">Zone#add</a></span> results in a new Cloud DNS Change instance.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">change</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">add</span> <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"A"</span><span class="p">,</span> <span class="mi">86400</span><span class="p">,</span> <span class="p">[</span><span class="s2">"1.2.3.4"</span><span class="p">]</span>
<span class="n">change</span><span class="p">.</span><span class="nf">additions</span><span class="p">.</span><span class="nf">map</span> <span class="o">&amp;</span><span class="ss">:type</span> <span class="c1">#=&gt; ["A", "SOA"]</span>
<span class="n">change</span><span class="p">.</span><span class="nf">deletions</span><span class="p">.</span><span class="nf">map</span> <span class="o">&amp;</span><span class="ss">:type</span> <span class="c1">#=&gt; ["SOA"]</span>
</code></pre>
</div>

<p>Whenever you change the set of records belonging to a zone, the zone’s start
of authority (SOA) record should be updated with a higher serial number. The
gcloud-ruby library automates this update for you, deleting the old SOA
record and adding an updated one, as shown in the example above. You can
disable or modify this behavior, of course. See <span class='object_link'><a href="Dns/Zone.html#update-instance_method" title="Gcloud::Dns::Zone#update (method)">Zone#update</a></span>
for details.</p>

<p>You can retrieve records by name and type. The name argument can be a
subdomain (e.g., <code class="highlighter-rouge">www</code>) fragment for convenience, but notice that the
retrieved record’s domain name is always fully-qualified.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">records</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">records</span> <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"A"</span>
<span class="n">records</span><span class="p">.</span><span class="nf">first</span><span class="p">.</span><span class="nf">name</span> <span class="c1">#=&gt; "www.example.com."</span>
</code></pre>
</div>

<p>You can use <span class='object_link'><a href="Dns/Zone.html#replace-instance_method" title="Gcloud::Dns::Zone#replace (method)">Zone#replace</a></span> to update the <code class="highlighter-rouge">ttl</code> and <code class="highlighter-rouge">data</code> for a
record.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">change</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">replace</span> <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"A"</span><span class="p">,</span> <span class="mi">86400</span><span class="p">,</span> <span class="p">[</span><span class="s2">"5.6.7.8"</span><span class="p">]</span>
</code></pre>
</div>

<p>Or, you can use <span class='object_link'><a href="Dns/Zone.html#modify-instance_method" title="Gcloud::Dns::Zone#modify (method)">Zone#modify</a></span> to update just the <code class="highlighter-rouge">ttl</code> or
<code class="highlighter-rouge">data</code>, without the risk of inadvertently changing values that you wish to
leave unchanged.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">change</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">modify</span> <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"A"</span> <span class="k">do</span> <span class="o">|</span><span class="n">r</span><span class="o">|</span>
  <span class="n">r</span><span class="p">.</span><span class="nf">ttl</span> <span class="o">=</span> <span class="mi">3600</span> <span class="c1"># change only the TTL</span>
<span class="k">end</span>
</code></pre>
</div>

<p>You can also delete records by name and type.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">change</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">remove</span> <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"A"</span>
<span class="n">record</span> <span class="o">=</span> <span class="n">change</span><span class="p">.</span><span class="nf">deletions</span><span class="p">.</span><span class="nf">first</span>
</code></pre>
</div>

<p>The best way to add, remove, and update multiple records in a single
<a href="https://cloud.google.com/dns/records">transaction</a> is to call
<span class='object_link'><a href="Dns/Zone.html#update-instance_method" title="Gcloud::Dns::Zone#update (method)">Zone#update</a></span> with a block. See
<span class='object_link'><a href="Dns/Zone/Transaction.html" title="Gcloud::Dns::Zone::Transaction (class)">Zone::Transaction</a></span>.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">change</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">update</span> <span class="k">do</span> <span class="o">|</span><span class="n">tx</span><span class="o">|</span>
  <span class="n">tx</span><span class="p">.</span><span class="nf">add</span>     <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"A"</span><span class="p">,</span>  <span class="mi">86400</span><span class="p">,</span> <span class="s2">"1.2.3.4"</span>
  <span class="n">tx</span><span class="p">.</span><span class="nf">remove</span>  <span class="s2">"example.com."</span><span class="p">,</span> <span class="s2">"TXT"</span>
  <span class="n">tx</span><span class="p">.</span><span class="nf">replace</span> <span class="s2">"example.com."</span><span class="p">,</span> <span class="s2">"MX"</span><span class="p">,</span> <span class="mi">86400</span><span class="p">,</span> <span class="p">[</span><span class="s2">"10 mail1.example.com."</span><span class="p">,</span>
                                           <span class="s2">"20 mail2.example.com."</span><span class="p">]</span>
  <span class="n">tx</span><span class="p">.</span><span class="nf">modify</span> <span class="s2">"www.example.com."</span><span class="p">,</span> <span class="s2">"CNAME"</span> <span class="k">do</span> <span class="o">|</span><span class="n">r</span><span class="o">|</span>
    <span class="n">r</span><span class="p">.</span><span class="nf">ttl</span> <span class="o">=</span> <span class="mi">86400</span> <span class="c1"># only change the TTL</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>

<p>Finally, you can add and delete records by reference, using
<span class='object_link'><a href="Dns/Zone.html#update-instance_method" title="Gcloud::Dns::Zone#update (method)">Zone#update</a></span>.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">to_add</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">record</span> <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"AAAA"</span><span class="p">,</span> <span class="mi">86400</span><span class="p">,</span> <span class="p">[</span><span class="s2">"2607:f8b0:400a:801::1005"</span><span class="p">]</span>
<span class="n">to_delete</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">records</span> <span class="s2">"www"</span><span class="p">,</span> <span class="s2">"A"</span>
<span class="n">change</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">update</span> <span class="n">to_add</span><span class="p">,</span> <span class="n">to_delete</span>
</code></pre>
</div>

<h2 id="listing-changes">Listing Changes</h2>

<p>Because the transactions you execute against your zone do not always
complete immediately, you can retrieve and inspect changes.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">changes</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">changes</span>
<span class="n">changes</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">change</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">change</span><span class="p">.</span><span class="nf">id</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">change</span><span class="p">.</span><span class="nf">started_at</span><span class="si">}</span><span class="s2"> - </span><span class="si">#{</span><span class="n">change</span><span class="p">.</span><span class="nf">status</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre>
</div>

<h2 id="importing-and-exporting-zone-files">Importing and exporting zone files</h2>

<p>You can import from a zone file. Because the Cloud DNS service only allows
the zone to have one Record instance for each name and type combination,
lines may be merged as needed into records with multiple <code class="highlighter-rouge">data</code> values.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>
<span class="n">change</span> <span class="o">=</span> <span class="n">zone</span><span class="p">.</span><span class="nf">import</span> <span class="s2">"path/to/db.example.com"</span>
</code></pre>
</div>

<p>You can also export to a zone file.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">dns</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">dns</span>
<span class="n">zone</span> <span class="o">=</span> <span class="n">dns</span><span class="p">.</span><span class="nf">zone</span> <span class="s2">"example-com"</span>

<span class="n">zone</span><span class="p">.</span><span class="nf">export</span> <span class="s2">"path/to/db.example.com"</span>
</code></pre>
</div>

<h2 id="configuring-backoff">Configuring Backoff</h2>

<p>The <span class='object_link'><a href="Backoff.html" title="Gcloud::Backoff (class)">Backoff</a></span> class allows users to globally configure how Cloud API
requests are automatically retried in the case of some errors, such as a
<code class="highlighter-rouge">500</code> or <code class="highlighter-rouge">503</code> status code, or a specific internal error code such as
<code class="highlighter-rouge">rateLimitExceeded</code>.</p>

<p>If an API call fails, the response will be inspected to see if the call
should be retried. If the response matches the criteria, then the request
will be retried after a delay. If another error occurs, the delay will be
increased incrementally before a subsequent attempt. The first retry will be
delayed one second, the second retry two seconds, and so on.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>
<span class="nb">require</span> <span class="s2">"gcloud/backoff"</span>

<span class="no">Gcloud</span><span class="o">::</span><span class="no">Backoff</span><span class="p">.</span><span class="nf">retries</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># Raise the maximum number of retries from 3</span>
</code></pre>
</div>

        </div>

        <div class="section-links">
          

          
          

          
        </div>

        
      </section>

      <nav class="side-nav">

        <div class="side-nav--meta"><div id="doc-build-date">Docs built on Jun 29, 2016.</div></div><ul><h4 class="list-item--heading">Getting Started</h4><li class='toc-l0'><a class='reference internal' href='../index.html'>Overview</a></li><li class='toc-l0'><a class='reference internal' href='../AUTHENTICATION.html'>Authentication Guide</a></li></ul><ul><h4 class="list-item--heading">API</h4><li class='toc-l0'><a class='reference internal' href='../Gcloud.html'>Gcloud</a></li><li class='toc-l0'><a class='reference internal' href='Bigquery.html'>BigQuery</a></li><li class='toc-l0'><a class='reference internal' href='Datastore.html'>Datastore</a></li><li class='toc-l0'><a class='reference internal current' href=''>DNS</a></li><li class='toc-l1'><a class='reference internal' href='Dns/Project.html'>Project</a></li><li class='toc-l1'><a class='reference internal' href='Dns/Zone.html'>Zone</a></li><li class='toc-l1'><a class='reference internal' href='Dns/Record.html'>Record</a></li><li class='toc-l0'><a class='reference internal' href='Logging.html'>Logging</a></li><li class='toc-l0'><a class='reference internal' href='Pubsub.html'>Pub/Sub</a></li><li class='toc-l0'><a class='reference internal' href='ResourceManager.html'>Resource Manager</a></li><li class='toc-l0'><a class='reference internal' href='Storage.html'>Storage</a></li><li class='toc-l0'><a class='reference internal' href='Translate.html'>Translate</a></li><li class='toc-l0'><a class='reference internal' href='../reference.html'>API Reference</a></li></ul>

        <ul class="external-links">
          <li>
            <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby" title="Github repository">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-github.svg" alt="Github icon">
              Github
            </a>
          </li>
          <li>
            <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues" title="Issues on Github">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-issues.svg" alt="Issues icon">
              Issues
            </a>
          </li>
          <li>
            <a href="http://stackoverflow.com/questions/tagged/gcloud-ruby" title="gcloud on StackOverflow">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon">
              StackOverflow
            </a>
          </li>
          <li>
            <a href="http://rubygems.org/gems/gcloud" title="RubyGems" class="ext-link">
               <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-rubygems.svg" alt="RubyGems icon">
              RubyGems
            </a>
          </li>
        </ul>

      </nav>

    </article>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script ="//googlecloudplatform.github.io/gcloud-ruby/js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
    <script src="//googlecloudplatform.github.io/gcloud-ruby/js/plugins.js"></script>
    <script src="//googlecloudplatform.github.io/gcloud-ruby/js/main.js"></script>

    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-49880327-13');ga('send','pageview');
    </script>

  </body>
</html>
