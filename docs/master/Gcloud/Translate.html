<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>Gcloud::Translate &mdash; Gcloud Documentation</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//googlecloudplatform.github.io/gcloud-ruby/css/normalize.css">
    <link rel="stylesheet" href="//googlecloudplatform.github.io/gcloud-ruby/css/main.css">
    <script src="//googlecloudplatform.github.io/gcloud-ruby/js/vendor/modernizr-2.6.2.min.js"></script>
    <link href='//fonts.googleapis.com/css?family=Droid+Sans+Mono|Roboto:300,400,700,700italic,400italic|Open+Sans:300' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="https://cloud.google.com/images/gcp-favicon.ico">
  </head>

  <body class="lang-page">
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <header class="page-header fixed" role="banner">
      <h1 class="logo">
        <a href="//googlecloudplatform.github.io/gcloud-ruby/" title="back to home">
          <img src="//googlecloudplatform.github.io/gcloud-ruby/img/logo.svg" alt="Google Cloud Platform">
          <span class="gcloud">gcloud</span>
        </a>
      </h1>

      <nav class="main-nav">
        <div class="nav-current">Ruby</div>
        <ul class="menu">
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-java/" title="gcloud-java">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-java.svg" alt="Java icon" class="menu-icon" />
              Java
            </a>
          </li>
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-node/#/docs" title="gcloud-node">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-nodejs.svg" alt="Node.js icon" class="menu-icon">
              Node.js
            </a>
          </li>
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-python/latest/" title="gcloud-python">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-python.svg" alt="Python icon" class="menu-icon">
              Python
            </a>
          </li>
          <li>
            <a href="//googlecloudplatform.github.io/gcloud-ruby/" title="gcloud-ruby">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-lang-ruby.svg" alt="Ruby icon" class="menu-icon" width="24">
              Ruby
            </a>
          </li>
        </ul>
      </nav>

      <div class="github-issue">
        <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues/new?title=%5BDocumentation+Issue%5D+" target="_blank" class="v-btn">
          <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-github.svg" />
          Report an Issue
        </a>
      </div>
    </header>

    <article class="main lang-page" role="main">

      <header class="docs-header">
        <h1 class="page-title">Gcloud::Translate</h1>
      </header>

      <section class="content">

        <div id="description" class="description">
          <h1 id="google-translate-api">Google Translate API</h1>

<p><a href="https://cloud.google.com/translate/">Google Translate API</a> provides a
simple, programmatic interface for translating an arbitrary string into any
supported language. It is highly responsive, so websites and applications
can integrate with Translate API for fast, dynamic translation of source
text. Language detection is also available in cases where the source
language is unknown.</p>

<p>Translate API supports more than ninety different languages, from Afrikaans
to Zulu. Used in combination, this enables translation between thousands of
language pairs. Also, you can send in HTML and receive HTML with translated
text back. You donâ€™t need to extract your source text or reassemble the
translated content.</p>

<h2 id="authenticating">Authenticating</h2>

<p>Unlike other Cloud Platform services, which authenticate using a project ID
and OAuth 2.0 credentials, Translate API requires a public API access key.
(This may change in future releases of Translate API.) Follow the general
instructions at <a href="https://cloud.google.com/translate/v2/using_rest#auth">Identifying your application to
Google</a>, and the
specific instructions for <a href="https://cloud.google.com/translate/v2/using_rest#creating-server-api-keys">Server
keys</a>.</p>

<h2 id="translating-texts">Translating texts</h2>

<p>Translating text from one language to another is easy (and extremely fast.)
The only required arguments to <span class='object_link'><a href="Translate/Api.html#translate-instance_method" title="Gcloud::Translate::Api#translate (method)">Api#translate</a></span> are a
string and the <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO
639-1</a> code of the
language to which you wish to translate.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">translation</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">translate</span> <span class="s2">"Hello world!"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"la"</span>

<span class="nb">puts</span> <span class="n">translation</span> <span class="c1">#=&gt; Salve mundi!</span>

<span class="n">translation</span><span class="p">.</span><span class="nf">from</span> <span class="c1">#=&gt; "en"</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">origin</span> <span class="c1">#=&gt; "Hello world!"</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">to</span> <span class="c1">#=&gt; "la"</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">text</span> <span class="c1">#=&gt; "Salve mundi!"</span>
</code></pre>
</div>

<p>You may want to use the <code class="highlighter-rouge">from</code> option to specify the language of the source
text, as the following example illustrates. (Single words do not give
Translate API much to work with.)</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">translation</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">translate</span> <span class="s2">"chat"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"en"</span>

<span class="n">translation</span><span class="p">.</span><span class="nf">detected?</span> <span class="c1">#=&gt; true</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">from</span> <span class="c1">#=&gt; "en"</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">text</span> <span class="c1">#=&gt; "chat"</span>

<span class="n">translation</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">translate</span> <span class="s2">"chat"</span><span class="p">,</span> <span class="ss">from: </span><span class="s2">"fr"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"en"</span>

<span class="n">translation</span><span class="p">.</span><span class="nf">detected?</span> <span class="c1">#=&gt; false</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">from</span> <span class="c1">#=&gt; "fr"</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">text</span> <span class="c1">#=&gt; "cat"</span>
</code></pre>
</div>

<p>You can pass multiple texts to <span class='object_link'><a href="Translate/Api.html#translate-instance_method" title="Gcloud::Translate::Api#translate (method)">Api#translate</a></span>.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">translations</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">translate</span> <span class="s2">"chien"</span><span class="p">,</span> <span class="s2">"chat"</span><span class="p">,</span> <span class="ss">from: </span><span class="s2">"fr"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"en"</span>

<span class="n">translations</span><span class="p">.</span><span class="nf">size</span> <span class="c1">#=&gt; 2</span>
<span class="n">translations</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">origin</span> <span class="c1">#=&gt; "chien"</span>
<span class="n">translations</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">text</span> <span class="c1">#=&gt; "dog"</span>
<span class="n">translations</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">origin</span> <span class="c1">#=&gt; "chat"</span>
<span class="n">translations</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">text</span> <span class="c1">#=&gt; "cat"</span>
</code></pre>
</div>

<p>By default, any HTML in your source text will be preserved.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">translation</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">translate</span> <span class="s2">"&lt;strong&gt;Hello&lt;/strong&gt; world!"</span><span class="p">,</span>
                                  <span class="ss">to: :la</span>
<span class="n">translation</span><span class="p">.</span><span class="nf">text</span> <span class="c1">#=&gt; "&lt;strong&gt;Salve&lt;/strong&gt; mundi!"</span>
</code></pre>
</div>

<h2 id="detecting-languages">Detecting languages</h2>

<p>You can use <span class='object_link'><a href="Translate/Api.html#detect-instance_method" title="Gcloud::Translate::Api#detect (method)">Api#detect</a></span> to see which language the
Translate API ranks as the most likely source language for a text. The
<code class="highlighter-rouge">confidence</code> score is a float value between <code class="highlighter-rouge">0</code> and <code class="highlighter-rouge">1</code>.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">detection</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">detect</span> <span class="s2">"chat"</span>

<span class="n">detection</span><span class="p">.</span><span class="nf">text</span> <span class="c1">#=&gt; "chat"</span>
<span class="n">detection</span><span class="p">.</span><span class="nf">language</span> <span class="c1">#=&gt; "en"</span>
<span class="n">detection</span><span class="p">.</span><span class="nf">confidence</span> <span class="c1">#=&gt; 0.59922177</span>
</code></pre>
</div>

<p>You can pass multiple texts to <span class='object_link'><a href="Translate/Api.html#detect-instance_method" title="Gcloud::Translate::Api#detect (method)">Api#detect</a></span>.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">detections</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">detect</span> <span class="s2">"chien"</span><span class="p">,</span> <span class="s2">"chat"</span>

<span class="n">detections</span><span class="p">.</span><span class="nf">size</span> <span class="c1">#=&gt; 2</span>
<span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">text</span> <span class="c1">#=&gt; "chien"</span>
<span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">language</span> <span class="c1">#=&gt; "fr"</span>
<span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">confidence</span> <span class="c1">#=&gt; 0.7109375</span>
<span class="n">detections</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">text</span> <span class="c1">#=&gt; "chat"</span>
<span class="n">detections</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">language</span> <span class="c1">#=&gt; "en"</span>
<span class="n">detections</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">confidence</span> <span class="c1">#=&gt; 0.59922177</span>
</code></pre>
</div>

<h2 id="listing-supported-languages">Listing supported languages</h2>

<p>Translate API adds new languages frequently. You can use
<span class='object_link'><a href="Translate/Api.html#languages-instance_method" title="Gcloud::Translate::Api#languages (method)">Api#languages</a></span> to query the list of supported languages.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">languages</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">languages</span>

<span class="n">languages</span><span class="p">.</span><span class="nf">size</span> <span class="c1">#=&gt; 104</span>
<span class="n">languages</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">code</span> <span class="c1">#=&gt; "af"</span>
<span class="n">languages</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span> <span class="c1">#=&gt; nil</span>
</code></pre>
</div>

<p>To receive the names of the supported languages, as well as their <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO
639-1</a> codes, provide
the code for the language in which you wish to receive the names.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>

<span class="n">gcloud</span> <span class="o">=</span> <span class="no">Gcloud</span><span class="p">.</span><span class="nf">new</span>
<span class="n">translate</span> <span class="o">=</span> <span class="n">gcloud</span><span class="p">.</span><span class="nf">translate</span>

<span class="n">languages</span> <span class="o">=</span> <span class="n">translate</span><span class="p">.</span><span class="nf">languages</span> <span class="s2">"en"</span>

<span class="n">languages</span><span class="p">.</span><span class="nf">size</span> <span class="c1">#=&gt; 104</span>
<span class="n">languages</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">code</span> <span class="c1">#=&gt; "af"</span>
<span class="n">languages</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span> <span class="c1">#=&gt; "Afrikaans"</span>
</code></pre>
</div>

<h2 id="configuring-backoff">Configuring Backoff</h2>

<p>The <span class='object_link'>Backoff</span> class allows users to globally configure how Cloud API
requests are automatically retried in the case of some errors, such as a
<code class="highlighter-rouge">500</code> or <code class="highlighter-rouge">503</code> status code, or a specific internal error code such as
<code class="highlighter-rouge">rateLimitExceeded</code>.</p>

<p>If an API call fails, the response will be inspected to see if the call
should be retried. If the response matches the criteria, then the request
will be retried after a delay. If another error occurs, the delay will be
increased incrementally before a subsequent attempt. The first retry will be
delayed one second, the second retry two seconds, and so on.</p>

<div class="language-ruby highlighter-rouge"><pre class="ruby"><code><span class="nb">require</span> <span class="s2">"gcloud"</span>
<span class="nb">require</span> <span class="s2">"gcloud/backoff"</span>

<span class="no">Gcloud</span><span class="o">::</span><span class="no">Backoff</span><span class="p">.</span><span class="nf">retries</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># Raise the maximum number of retries from 3</span>
</code></pre>
</div>

        </div>

        <div class="section-links">
          

          
          

          
        </div>

        
      </section>

      <nav class="side-nav">

        <div class="side-nav--meta"><div id="doc-build-date">Docs built on Jul 15, 2016.</div></div><ul><h4 class="list-item--heading">Getting Started</h4><li class='toc-l0'><a class='reference internal' href='../index.html'>Overview</a></li><li class='toc-l0'><a class='reference internal' href='../AUTHENTICATION.html'>Authentication Guide</a></li></ul><ul><h4 class="list-item--heading">API</h4><li class='toc-l0'><a class='reference internal' href='../Gcloud.html'>Gcloud</a></li><li class='toc-l0'><a class='reference internal' href='Bigquery.html'>BigQuery</a></li><li class='toc-l0'><a class='reference internal' href='Datastore.html'>Datastore</a></li><li class='toc-l0'><a class='reference internal' href='Dns.html'>DNS</a></li><li class='toc-l0'><a class='reference internal' href='Logging.html'>Logging</a></li><li class='toc-l0'><a class='reference internal' href='Pubsub.html'>Pub/Sub</a></li><li class='toc-l0'><a class='reference internal' href='ResourceManager.html'>Resource Manager</a></li><li class='toc-l0'><a class='reference internal' href='Storage.html'>Storage</a></li><li class='toc-l0'><a class='reference internal current' href=''>Translate</a></li><li class='toc-l1'><a class='reference internal' href='Translate/Api.html'>Api</a></li><li class='toc-l1'><a class='reference internal' href='Translate/Translation.html'>Translation</a></li><li class='toc-l1'><a class='reference internal' href='Translate/Detection.html'>Detection</a></li><li class='toc-l0'><a class='reference internal' href='../reference.html'>API Reference</a></li></ul>

        <ul class="external-links">
          <li>
            <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby" title="Github repository">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-github.svg" alt="Github icon">
              Github
            </a>
          </li>
          <li>
            <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues" title="Issues on Github">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-issues.svg" alt="Issues icon">
              Issues
            </a>
          </li>
          <li>
            <a href="http://stackoverflow.com/questions/tagged/gcloud-ruby" title="gcloud on StackOverflow">
              <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon">
              StackOverflow
            </a>
          </li>
          <li>
            <a href="http://rubygems.org/gems/gcloud" title="RubyGems" class="ext-link">
               <img src="//googlecloudplatform.github.io/gcloud-ruby/img/icon-link-rubygems.svg" alt="RubyGems icon">
              RubyGems
            </a>
          </li>
        </ul>

      </nav>

    </article>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script ="//googlecloudplatform.github.io/gcloud-ruby/js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
    <script src="//googlecloudplatform.github.io/gcloud-ruby/js/plugins.js"></script>
    <script src="//googlecloudplatform.github.io/gcloud-ruby/js/main.js"></script>

    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-49880327-13');ga('send','pageview');
    </script>

  </body>
</html>
