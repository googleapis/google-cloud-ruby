---
layout: yard_main
title: "Class: Google::Cloud::Debugger::Agent - Stackdriver"
css: 
  - /docs/css/style.css
  - /docs/css/common.css
  - /css/yard-main.css
js: 
  - /docs/js/app.js
  - /js/yard-main.js
---
<script type="text/javascript" charset="utf-8">
  pathId = "Google::Cloud::Debugger::Agent";
  relpath = '../../../';
</script>


<div class="nav-wrap">
  <iframe id="nav" src="../../../class_list.html?1"></iframe>
  <div id="resizer"></div>
</div>

<div id="main" tabindex="-1">
  <div id="header">
    <div id="menu">
  
    <a href="../../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Debugger.html" title="Google::Cloud::Debugger (module)">Debugger</a></span></span>
     &raquo; 
    <span class="title">Agent</span>
  
</div>

    <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
    <div class="clear"></div>
  </div>

  <div id="content"><h1>Class: Google::Cloud::Debugger::Agent
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Google::Cloud::Debugger::Agent</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/google/cloud/debugger/agent.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <h1>Agent</h1>

<p>The Stackdriver Debugger Agent runs on the same system where a debuggee
application is running. The agent is responsible for sending state data,
such as the value of program variables and the call stack, to
Stackdriver Debugger when the code at a breakpoint location is executed.</p>

<p>The Debugger Agent runs in its own child thread when started. It ensures
the instrumented application is registered properly and constantly
monitors for any active breakpoints. Once the agent gets updated with
active breakpoints from Stackdriver Debugger service, it facilitates
the breakpoints in application requests thread, then transport the
result snapshot back to Stackdriver Debugger service asynchronously.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>google/cloud/debugger</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_debugger'>debugger</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Google.html" title="Google (module)">Google</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Cloud.html" title="Google::Cloud (module)">Cloud</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Debugger.html" title="Google::Cloud::Debugger (module)">Debugger</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Debugger.html#new-class_method" title="Google::Cloud::Debugger.new (method)">new</a></span></span>
<span class='id identifier rubyid_agent'>agent</span> <span class='op'>=</span> <span class='id identifier rubyid_debugger'>debugger</span><span class='period'>.</span><span class='id identifier rubyid_agent'>agent</span>
<span class='id identifier rubyid_agent'>agent</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span></code></pre>
    
  </div>


</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#breakpoint_manager-instance_method" title="#breakpoint_manager (instance method)">#<strong>breakpoint_manager</strong>  &#x21d2; Google::Cloud::Debugger::BreakpointManager </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>It manages syncing breakpoints between the Debugger Agent and Stackdriver Debugger service.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#debuggee-instance_method" title="#debuggee (instance method)">#<strong>debuggee</strong>  &#x21d2; Google::Cloud::Debugger::Debuggee </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The gRPC Debuggee representation of the debuggee application.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#tracer-instance_method" title="#tracer (instance method)">#<strong>tracer</strong>  &#x21d2; Google::Cloud::Debugger::Tracer </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>It monitors the debuggee application and triggers breakpoint evaluation when breakpoints are set.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#transmitter-instance_method" title="#transmitter (instance method)">#<strong>transmitter</strong>  &#x21d2; Google::Cloud::Debugger::Transmiter </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>It sends evaluated breakpoints snapshot back to Stackdriver Debugger Service.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(service, module_name:, module_version:)  &#x21d2; Agent </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a new Debugger Agent instance.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Starts the Debugger Agent in a child thread, where debuggee application registration and breakpoints querying will take place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop-instance_method" title="#stop (instance method)">#<strong>stop</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Stops and terminates the Debugger Agent.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop_tracer-instance_method" title="#stop_tracer (instance method)">#<strong>stop_tracer</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Stops the tracer regardless of whether any active breakpoints are present.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(service, module_name:, module_version:)  &#x21d2; <tt><span class='object_link'><a href="" title="Google::Cloud::Debugger::Agent (class)">Agent</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a new Debugger Agent instance.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>service</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Google::Cloud::Debugger::Service</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The gRPC Service
object</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>module_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Name for the debuggee application.
Optional.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>module_version</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Version identifier for the debuggee
application. Optional.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 98</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='label'>module_name:</span><span class='comma'>,</span> <span class='label'>module_version:</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>

  <span class='ivar'>@service</span> <span class='op'>=</span> <span class='id identifier rubyid_service'>service</span>
  <span class='ivar'>@debuggee</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Debuggee.html" title="Google::Cloud::Debugger::Debuggee (class)">Debuggee</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Debugger.html#new-class_method" title="Google::Cloud::Debugger.new (method)">new</a></span></span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='label'>module_name:</span> <span class='id identifier rubyid_module_name'>module_name</span><span class='comma'>,</span>
                                    <span class='label'>module_version:</span> <span class='id identifier rubyid_module_version'>module_version</span>
  <span class='ivar'>@tracer</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Debugger.html" title="Google::Cloud::Debugger (module)">Debugger</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Tracer.html" title="Google::Cloud::Debugger::Tracer (class)">Tracer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Debugger.html#new-class_method" title="Google::Cloud::Debugger.new (method)">new</a></span></span> <span class='kw'>self</span>
  <span class='ivar'>@breakpoint_manager</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="BreakpointManager.html" title="Google::Cloud::Debugger::BreakpointManager (class)">BreakpointManager</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Debugger.html#new-class_method" title="Google::Cloud::Debugger.new (method)">new</a></span></span> <span class='id identifier rubyid_service'>service</span>
  <span class='ivar'>@breakpoint_manager</span><span class='period'>.</span><span class='id identifier rubyid_on_breakpoints_change'>on_breakpoints_change</span> <span class='op'>=</span>
    <span class='id identifier rubyid_method'>method</span> <span class='symbol'>:breakpoints_change_callback</span>

  <span class='ivar'>@transmitter</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Transmitter.html" title="Google::Cloud::Debugger::Transmitter (class)">Transmitter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Debugger.html#new-class_method" title="Google::Cloud::Debugger.new (method)">new</a></span></span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="breakpoint_manager-instance_method">
  
    #<strong>breakpoint_manager</strong>  &#x21d2; <tt><span class='object_link'><a href="BreakpointManager.html" title="Google::Cloud::Debugger::BreakpointManager (class)">Google::Cloud::Debugger::BreakpointManager</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>It manages syncing breakpoints between the Debugger Agent and
Stackdriver Debugger service</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="BreakpointManager.html" title="Google::Cloud::Debugger::BreakpointManager (class)">Google::Cloud::Debugger::BreakpointManager</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_breakpoint_manager'>breakpoint_manager</span>
  <span class='ivar'>@breakpoint_manager</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="debuggee-instance_method">
  
    #<strong>debuggee</strong>  &#x21d2; <tt><span class='object_link'><a href="Debuggee.html" title="Google::Cloud::Debugger::Debuggee (class)">Google::Cloud::Debugger::Debuggee</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The gRPC Debuggee representation of the debuggee application. It
contains identification information to match running application to
specific Cloud Source Repository code base, and correctly group
same versions of the debuggee application together through a generated
unique identifier.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Debuggee.html" title="Google::Cloud::Debugger::Debuggee (class)">Google::Cloud::Debugger::Debuggee</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_debuggee'>debuggee</span>
  <span class='ivar'>@debuggee</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="tracer-instance_method">
  
    #<strong>tracer</strong>  &#x21d2; <tt><span class='object_link'><a href="Tracer.html" title="Google::Cloud::Debugger::Tracer (class)">Google::Cloud::Debugger::Tracer</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>It monitors the debuggee application and triggers breakpoint
evaluation when breakpoints are set.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Tracer.html" title="Google::Cloud::Debugger::Tracer (class)">Google::Cloud::Debugger::Tracer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 76</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tracer'>tracer</span>
  <span class='ivar'>@tracer</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="transmitter-instance_method">
  
    #<strong>transmitter</strong>  &#x21d2; <tt>Google::Cloud::Debugger::Transmiter</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>It sends evaluated breakpoints snapshot back to Stackdriver Debugger
Service.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Google::Cloud::Debugger::Transmiter</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_transmitter'>transmitter</span>
  <span class='ivar'>@transmitter</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="start-instance_method">
  
    #<strong>start</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Starts the Debugger Agent in a child thread, where debuggee
application registration and breakpoints querying will take place.
It also starts the transmitter in another child thread.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 117</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start'>start</span>
  <span class='id identifier rubyid_transmitter'>transmitter</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
  <span class='id identifier rubyid_async_start'>async_start</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop-instance_method">
  
    #<strong>stop</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Stops and terminates the Debugger Agent. It also properly shuts down
transmitter and tracer.</p>

<p>Once Debugger Agent is stopped, it cannot be started again.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


128
129
130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 128</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stop'>stop</span>
  <span class='id identifier rubyid_tracer'>tracer</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
  <span class='id identifier rubyid_transmitter'>transmitter</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
  <span class='id identifier rubyid_async_stop'>async_stop</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop_tracer-instance_method">
  
    #<strong>stop_tracer</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Stops the tracer regardless of whether any active breakpoints are
present. Once the tracer stops monitoring the debuggee application,
the application can return to normal performance.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/google/cloud/debugger/agent.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stop_tracer'>stop_tracer</span>
  <span class='id identifier rubyid_tracer'>tracer</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

  <div id="footer">
  <ul class="footer-links">
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby" title="Google Cloud on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> GitHub
      </a>
    </li>
    <li>
      <a href="https://github.com/GoogleCloudPlatform/google-cloud-ruby/issues" title="Google Cloud issues on Github">
        <img src="/google-cloud-ruby/img/icon-link-github.svg" alt="GitHub icon"> Issues
      </a>
    </li>
    <li>
      <a href="http://stackoverflow.com/questions/tagged/google-cloud-ruby" title="Google Cloud on StackOverflow">
      <img src="/google-cloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon"> StackOverflow
    </a>
    </li>
    <li>
      <a href="http://rubygems.org/gems/google-cloud" title="Google Cloud on RubyGems">
        <img src="/google-cloud-ruby/img/icon-link-package-manager.svg" alt="RubyGems icon"> RubyGems
      </a>
    </li>
  </ul>

  <p>
    Documentation generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>.
  </p>
</div>

</div>
