{"id":"google/cloud/bigquery/project","name":"Project","title":["Google","Cloud","Bigquery","Project"],"description":"<h1 id=\"project\">Project</h1>\n\n<p>Projects are top-level containers in Google Cloud Platform. They store\ninformation about billing and authorized users, and they contain\nBigQuery data. Each project has a friendly name and a unique ID.</p>\n\n<p>Google::Cloud::Bigquery::Project is the main object for interacting with\nGoogle BigQuery. <a data-custom-type=\"google/cloud/bigquery/dataset\">Google::Cloud::Bigquery::Dataset</a> objects are created,\naccessed, and deleted by Google::Cloud::Bigquery::Project.</p>\n\n<p>See <a data-custom-type=\"google/cloud\" data-method=\"bigquery-instance\">Google::Cloud#bigquery</a></p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L48","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\""}],"methods":[{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","Bigquery","Project#initialize"],"description":"<p>Creates a new Service instance.</p>\n\n<p>See <a data-custom-type=\"google/cloud\" data-method=\"bigquery-class\">Google::Cloud.bigquery</a></p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L57","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/project\">Project</a>"],"description":"a new instance of Project"}]},{"id":"project-instance","type":"instance","name":"project","title":["Google","Cloud","Bigquery","Project#project"],"description":"<p>The BigQuery project connected to.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L73","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new \"my-todo-project\",\n                           \"/path/to/keyfile.json\"\nbigquery = gcloud.bigquery\n\nbigquery.project #=> \"my-todo-project\""}],"params":[],"exceptions":[],"returns":[]},{"id":"query_job-instance","type":"instance","name":"query_job","title":["Google","Cloud","Bigquery","Project#query_job"],"description":"<p>Queries data using the <a href=\"https://cloud.google.com/bigquery/querying-data\">asynchronous\nmethod</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L149","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\njob = bigquery.query_job \"SELECT name FROM \" \\\n                         \"[my_proj:my_data.my_table]\"\n\njob.wait_until_done!\nif !job.failed?\n  job.query_results.each do |row|\n    puts row[\"name\"]\n  end\nend"}],"params":[{"name":"query","types":["String"],"description":"A query string, following the BigQuery <a href=\"https://cloud.google.com/bigquery/query-reference\">query\nsyntax</a>, of the\nquery to execute. Example: “SELECT count(f1) FROM\n[myProjectId:myDatasetId.myTableId]”.","optional":false,"nullable":false},{"name":"priority","types":["String"],"description":"Specifies a priority for the query. Possible\nvalues include <code>INTERACTIVE</code> and <code>BATCH</code>. The default value is\n<code>INTERACTIVE</code>.","optional":true,"default":"\"INTERACTIVE\"","nullable":false},{"name":"cache","types":["Boolean"],"description":"Whether to look for the result in the query\ncache. The query cache is a best-effort cache that will be flushed\nwhenever tables in the query are modified. The default value is\ntrue. For more information, see <a href=\"https://developers.google.com/bigquery/querying-data\">query\ncaching</a>.","optional":true,"default":"true","nullable":false},{"name":"table","types":["Table"],"description":"The destination table where the query results\nshould be stored. If not present, a new table will be created to\nstore the results.","optional":true,"default":"nil","nullable":true},{"name":"create","types":["String"],"description":"Specifies whether the job is allowed to create\nnew tables.</p>\n\n<p>The following values are supported:</p>\n\n<ul>\n  <li><code>needed</code> - Create the table if it does not exist.</li>\n  <li><code>never</code> - The table must already exist. A ‘notFound’ error is\nraised if the table does not exist.</li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"write","types":["String"],"description":"Specifies the action that occurs if the\ndestination table already exists.</p>\n\n<p>The following values are supported:</p>\n\n<ul>\n  <li><code>truncate</code> - BigQuery overwrites the table data.</li>\n  <li><code>append</code> - BigQuery appends the data to the table.</li>\n  <li><code>empty</code> - A ‘duplicate’ error is returned in the job result if the\ntable exists and contains data.</li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"large_results","types":["Boolean"],"description":"If <code>true</code>, allows the query to produce\narbitrarily large result tables at a slight cost in performance.\nRequires <code>table</code> parameter to be set.","optional":true,"default":"nil","nullable":true},{"name":"flatten","types":["Boolean"],"description":"Flattens all nested and repeated fields in\nthe query results. The default value is <code>true</code>. <code>large_results</code>\nparameter must be <code>true</code> if this is set to <code>false</code>.","optional":true,"default":"nil","nullable":true},{"name":"dataset","types":["Dataset","String"],"description":"Specifies the default dataset to use\nfor unqualified table names in the query.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/queryjob\">Google::Cloud::Bigquery::QueryJob</a>"],"description":""}]},{"id":"query-instance","type":"instance","name":"query","title":["Google","Cloud","Bigquery","Project#query"],"description":"<p>Queries data using the <a href=\"https://cloud.google.com/bigquery/querying-data\">synchronous\nmethod</a>.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L222","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndata = bigquery.query \"SELECT name FROM [my_proj:my_data.my_table]\"\ndata.each do |row|\n  puts row[\"name\"]\nend"},{"caption":"<p>Retrieve all rows: (See <a data-custom-type=\"google/cloud/bigquery/querydata\" data-method=\"all-instance\">QueryData#all</a>)</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndata = bigquery.query \"SELECT name FROM [my_proj:my_data.my_table]\"\ndata.all do |row|\n  puts row[\"name\"]\nend"}],"params":[{"name":"query","types":["String"],"description":"A query string, following the BigQuery <a href=\"https://cloud.google.com/bigquery/query-reference\">query\nsyntax</a>, of the\nquery to execute. Example: “SELECT count(f1) FROM\n[myProjectId:myDatasetId.myTableId]”.","optional":false,"nullable":false},{"name":"max","types":["Integer"],"description":"The maximum number of rows of data to return per\npage of results. Setting this flag to a small value such as 1000 and\nthen paging through results might improve reliability when the query\nresult set is large. In addition to this limit, responses are also\nlimited to 10 MB. By default, there is no maximum row count, and\nonly the byte limit applies.","optional":true,"default":"nil","nullable":true},{"name":"timeout","types":["Integer"],"description":"How long to wait for the query to complete,\nin milliseconds, before the request times out and returns. Note that\nthis is only a timeout for the request, not the query. If the query\ntakes longer to run than the timeout value, the call returns without\nany results and with QueryData#complete? set to false. The default\nvalue is 10000 milliseconds (10 seconds).","optional":true,"default":"10000","nullable":false},{"name":"dryrun","types":["Boolean"],"description":"If set to <code>true</code>, BigQuery doesn’t run the\njob. Instead, if the query is valid, BigQuery returns statistics\nabout the job such as how many bytes would be processed. If the\nquery is invalid, an error returns. The default value is <code>false</code>.","optional":true,"default":"nil","nullable":true},{"name":"cache","types":["Boolean"],"description":"Whether to look for the result in the query\ncache. The query cache is a best-effort cache that will be flushed\nwhenever tables in the query are modified. The default value is\ntrue. For more information, see <a href=\"https://developers.google.com/bigquery/querying-data\">query\ncaching</a>.","optional":true,"default":"true","nullable":false},{"name":"dataset","types":["String"],"description":"Specifies the default datasetId and projectId\nto assume for any unqualified table names in the query. If not set,\nall table names in the query string must be qualified in the format\n‘datasetId.tableId’.","optional":true,"default":"nil","nullable":true},{"name":"project","types":["String"],"description":"Specifies the default projectId to assume for\nany unqualified table names in the query. Only used if <code>dataset</code>\noption is set.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/querydata\">Google::Cloud::Bigquery::QueryData</a>"],"description":""}]},{"id":"dataset-instance","type":"instance","name":"dataset","title":["Google","Cloud","Bigquery","Project#dataset"],"description":"<p>Retrieves an existing dataset by ID.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L248","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndataset = bigquery.dataset \"my_dataset\"\nputs dataset.name"}],"params":[{"name":"dataset_id","types":["String"],"description":"The ID of a dataset.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/dataset\">Google::Cloud::Bigquery::Dataset</a>","nil"],"description":"Returns <code>nil</code> if the\ndataset does not exist."}]},{"id":"create_dataset-instance","type":"instance","name":"create_dataset","title":["Google","Cloud","Bigquery","Project#create_dataset"],"description":"<p>Creates a new dataset.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L313","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndataset = bigquery.create_dataset \"my_dataset\""},{"caption":"<p>A name and description can be provided:</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndataset = bigquery.create_dataset \"my_dataset\",\n                                  name: \"My Dataset\",\n                                  description: \"This is my Dataset\""},{"caption":"<p>Access rules can be provided with the <code>access</code> option:</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndataset = bigquery.create_dataset \"my_dataset\",\n  access: [{\"role\"=>\"WRITER\", \"userByEmail\"=>\"writers@example.com\"}]"},{"caption":"<p>Or, configure access with a block: (See <a data-custom-type=\"google/cloud/bigquery/dataset/access\">Dataset::Access</a>)</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndataset = bigquery.create_dataset \"my_dataset\" do |access|\n  access.add_writer_user \"writers@example.com\"\nend"}],"params":[{"name":"dataset_id","types":["String"],"description":"A unique ID for this dataset, without the\nproject name. The ID must contain only letters (a-z, A-Z), numbers\n(0-9), or underscores (_). The maximum length is 1,024 characters.","optional":false,"nullable":false},{"name":"name","types":["String"],"description":"A descriptive name for the dataset.","optional":true,"default":"nil","nullable":true},{"name":"description","types":["String"],"description":"A user-friendly description of the\ndataset.","optional":true,"default":"nil","nullable":true},{"name":"expiration","types":["Integer"],"description":"The default lifetime of all tables in the\ndataset, in milliseconds. The minimum value is 3600000 milliseconds\n(one hour).","optional":true,"default":"nil","nullable":true},{"name":"location","types":["String"],"description":"The geographic location where the dataset\nshould reside. Possible values include <code>EU</code> and <code>US</code>. The default\nvalue is <code>US</code>.","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"a block for setting rules","optional":true,"nullable":false},{"name":"yield.access","types":["Dataset::Access"],"description":"the object accepting rules","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/dataset\">Google::Cloud::Bigquery::Dataset</a>"],"description":""}]},{"id":"datasets-instance","type":"instance","name":"datasets","title":["Google","Cloud","Bigquery","Project#datasets"],"description":"<p>Retrieves the list of datasets belonging to the project.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L381","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndatasets = bigquery.datasets\ndatasets.each do |dataset|\n  puts dataset.name\nend"},{"caption":"<p>Retrieve hidden datasets with the <code>all</code> optional arg:</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\nall_datasets = bigquery.datasets all: true"},{"caption":"<p>Retrieve all datasets: (See <a data-custom-type=\"google/cloud/bigquery/dataset/list\" data-method=\"all-instance\">Dataset::List#all</a>)</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\ndatasets = bigquery.datasets\ndatasets.all do |dataset|\n  puts dataset.name\nend"}],"params":[{"name":"all","types":["Boolean"],"description":"Whether to list all datasets, including hidden\nones. The default is <code>false</code>.","optional":true,"default":"nil","nullable":true},{"name":"token","types":["String"],"description":"A previously-returned page token representing\npart of the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of datasets to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigquery/dataset\">Google::Cloud::Bigquery::Dataset</a>&gt;"],"description":"(See\n<a data-custom-type=\"google/cloud/bigquery/dataset/list\">Google::Cloud::Bigquery::Dataset::List</a>)"}]},{"id":"job-instance","type":"instance","name":"job","title":["Google","Cloud","Bigquery","Project#job"],"description":"<p>Retrieves an existing job by ID.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L404","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\njob = bigquery.job \"my_job\""}],"params":[{"name":"job_id","types":["String"],"description":"The ID of a job.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigquery/job\">Google::Cloud::Bigquery::Job</a>","nil"],"description":"Returns <code>nil</code> if the job\ndoes not exist."}]},{"id":"jobs-instance","type":"instance","name":"jobs","title":["Google","Cloud","Bigquery","Project#jobs"],"description":"<p>Retrieves the list of jobs belonging to the project.</p>","source":"google-cloud-bigquery/lib/google/cloud/bigquery/project.rb#L464","resources":[],"examples":[{"caption":"","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\njobs = bigquery.jobs\njobs.each do |job|\n  # process job\nend"},{"caption":"<p>Retrieve only running jobs using the <code>filter</code> optional arg:</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\nrunning_jobs = bigquery.jobs filter: \"running\"\nrunning_jobs.each do |job|\n  # process job\nend"},{"caption":"<p>Retrieve all jobs: (See <a data-custom-type=\"google/cloud/bigquery/job/list\" data-method=\"all-instance\">Job::List#all</a>)</p>","code":"require \"google/cloud\"\n\ngcloud = Google::Cloud.new\nbigquery = gcloud.bigquery\n\njobs = bigquery.jobs\njobs.all do |job|\n  # process job\nend"}],"params":[{"name":"all","types":["Boolean"],"description":"Whether to display jobs owned by all users in the\nproject. The default is <code>false</code>.","optional":true,"default":"nil","nullable":true},{"name":"token","types":["String"],"description":"A previously-returned page token representing\npart of the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of jobs to return.","optional":true,"default":"nil","nullable":true},{"name":"filter","types":["String"],"description":"A filter for job state.</p>\n\n<p>Acceptable values are:</p>\n\n<ul>\n  <li><code>done</code> - Finished jobs</li>\n  <li><code>pending</code> - Pending jobs</li>\n  <li><code>running</code> - Running jobs</li>\n</ul>","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigquery/job\">Google::Cloud::Bigquery::Job</a>&gt;"],"description":"(See\n<a data-custom-type=\"google/cloud/bigquery/job/list\">Google::Cloud::Bigquery::Job::List</a>)"}]}]}