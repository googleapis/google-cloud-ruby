{"id":"google/cloud/language/document","name":"Document","title":["Google","Cloud","Language","Document"],"description":"<h1 id=\"document\">Document</h1>\n\n<p>Represents a document for the Language service.</p>\n\n<p>Cloud Natural Language API supports UTF-8, UTF-16, and UTF-32 encodings.\n(Ruby uses UTF-8 natively, which is the default sent to the API, so\nunless you’re working with text processed in different platform, you\nshould not need to set the encoding type.)</p>\n\n<p>Be aware that only English, Spanish, and Japanese language content are\nsupported.</p>\n\n<p>See <a data-custom-type=\"google/cloud/language/project\" data-method=\"document-instance\">Project#document</a>.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L51","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/language\"\n\nlanguage = Google::Cloud::Language.new\n\ncontent = \"Darth Vader is the best villain in Star Wars.\"\ndocument = language.document content\nannotation = document.annotate\n\nannotation.entities.count #=> 2\nannotation.sentiment.score #=> 1.0\nannotation.sentiment.magnitude #=> 0.8999999761581421\nannotation.sentences.count #=> 1\nannotation.tokens.count #=> 10"}],"methods":[{"id":"format-instance","type":"instance","name":"format","title":["Google","Cloud","Language","Document#format"],"description":"<p>The document’s format.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L90","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Symbol"],"description":"<code>:text</code> or <code>:html</code>"}]},{"id":"format=-instance","type":"instance","name":"format=","title":["Google","Cloud","Language","Document#format="],"description":"<p>Sets the document’s format.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L105","resources":[],"examples":[{"caption":"","code":"document = language.document \"<p>The Old Man and the Sea</p>\"\ndocument.format = :html"}],"params":[{"name":"new_format","types":["Symbol","String"],"description":"Accepted values are <code>:text</code> or\n<code>:html</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"text?-instance","type":"instance","name":"text?","title":["Google","Cloud","Language","Document#text?"],"description":"<p>Whether the document is the <code>TEXT</code> format.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L116","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"text!-instance","type":"instance","name":"text!","title":["Google","Cloud","Language","Document#text!"],"description":"<p>Sets the document to the <code>TEXT</code> format.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L123","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"html?-instance","type":"instance","name":"html?","title":["Google","Cloud","Language","Document#html?"],"description":"<p>Whether the document is the <code>HTML</code> format.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L132","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"html!-instance","type":"instance","name":"html!","title":["Google","Cloud","Language","Document#html!"],"description":"<p>Sets the document to the <code>HTML</code> format.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L139","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"language-instance","type":"instance","name":"language","title":["Google","Cloud","Language","Document#language"],"description":"<p>The document’s language. ISO and BCP-47 language codes are supported.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L148","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"language=-instance","type":"instance","name":"language=","title":["Google","Cloud","Language","Document#language="],"description":"<p>Sets the document’s language.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L162","resources":[],"examples":[{"caption":"","code":"document = language.document \"<p>El viejo y el mar</p>\"\ndocument.language = \"es\""}],"params":[{"name":"new_language","types":["String","Symbol"],"description":"ISO and BCP-47 language codes are\naccepted.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"annotate-instance","type":"instance","name":"annotate","title":["Google","Cloud","Language","Document#annotate"],"description":"<p>Analyzes the document and returns sentiment, entity, and syntactic\nfeature results, depending on the option flags. Calling <code>annotate</code>\nwith no arguments will perform <strong>all</strong> analysis features. Each feature\nis priced separately. See <a href=\"https://cloud.google.com/natural-language/pricing\">Pricing</a>\nfor details.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L216","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/language\"\n\nlanguage = Google::Cloud::Language.new\n\ncontent = \"Darth Vader is the best villain in Star Wars.\"\ndocument = language.document content\nannotation = document.annotate\n\nannotation.sentiment.score #=> 1.0\nannotation.sentiment.magnitude #=> 0.8999999761581421\nannotation.entities.count #=> 2\nannotation.sentences.count #=> 1\nannotation.tokens.count #=> 10"},{"caption":"<p>With feature flags:</p>","code":"require \"google/cloud/language\"\n\nlanguage = Google::Cloud::Language.new\n\ncontent = \"Darth Vader is the best villain in Star Wars.\"\ndocument = language.document content\nannotation = document.annotate entities: true, text: true\n\nannotation.sentiment #=> nil\nannotation.entities.count #=> 2\nannotation.sentences.count #=> 1\nannotation.tokens.count #=> 10"}],"params":[{"name":"sentiment","types":["Boolean"],"description":"Whether to perform sentiment analysis.\nOptional. The default is <code>false</code>. If every feature option is\n<code>false</code>, <strong>all</strong> features will be performed.","optional":true,"default":"false","nullable":false},{"name":"entities","types":["Boolean"],"description":"Whether to perform the entity analysis.\nOptional. The default is <code>false</code>. If every feature option is\n<code>false</code>, <strong>all</strong> features will be performed.","optional":true,"default":"false","nullable":false},{"name":"syntax","types":["Boolean"],"description":"Whether to perform syntactic analysis.\nOptional. The default is <code>false</code>. If every feature option is\n<code>false</code>, <strong>all</strong> features will be performed.","optional":true,"default":"false","nullable":false},{"name":"encoding","types":["String"],"description":"The encoding type used by the API to\ncalculate offsets. Optional.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/language/annotation\">Annotation</a>"],"description":"The results of the content analysis."}]},{"id":"syntax-instance","type":"instance","name":"syntax","title":["Google","Cloud","Language","Document#syntax"],"description":"<p>Syntactic analysis extracts linguistic information, breaking up the\ngiven text into a series of sentences and tokens (generally, word\nboundaries), providing further analysis on those tokens.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L262","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/language\"\n\nlanguage = Google::Cloud::Language.new\n\ncontent = \"Darth Vader is the best villain in Star Wars.\"\ndocument = language.document content\n\nsyntax = document.syntax\n\nsentence = syntax.sentences.last\nsentence.text #=> \"Darth Vader is the best villain in Star Wars.\"\nsentence.offset #=> 0\n\nsyntax.tokens.count #=> 10\ntoken = syntax.tokens.first\n\ntoken.text #=> \"Darth\"\ntoken.offset #=> 0\ntoken.part_of_speech.tag #=> :NOUN\ntoken.head_token_index #=> 1\ntoken.label #=> :NN\ntoken.lemma #=> \"Darth\""}],"params":[{"name":"encoding","types":["String"],"description":"The encoding type used by the API to\ncalculate offsets. Optional.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/language/annotation/syntax\">Annotation::Syntax</a>"],"description":"The results for the content analysis."}]},{"id":"entities-instance","type":"instance","name":"entities","title":["Google","Cloud","Language","Document#entities"],"description":"<p>Entity analysis inspects the given text for known entities (proper\nnouns such as public figures, landmarks, etc.) and returns information\nabout those entities.</p>\n\n<p>content = “Darth Vader is the best villain in Star Wars.”\ndocument = language.document content\nentities = document.entities # API call</p>\n\n<p>entities.count #=&gt; 2\nentities.first.name #=&gt; “Darth Vader”\nentities.first.type #=&gt; :PERSON\nentities.first.name #=&gt; “Star Wars”\nentities.first.type #=&gt; :WORK_OF_ART</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L293","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/language\"\n\nlanguage = Google::Cloud::Language.new"}],"params":[{"name":"encoding","types":["String"],"description":"The encoding type used by the API to\ncalculate offsets. Optional.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/language/annotation/entities\">Annotation::Entities</a>"],"description":"The results for the entities analysis."}]},{"id":"sentiment-instance","type":"instance","name":"sentiment","title":["Google","Cloud","Language","Document#sentiment"],"description":"<p>Sentiment analysis inspects the given text and identifies the\nprevailing emotional opinion within the text, especially to determine\na writer’s attitude as positive, negative, or neutral. Currently, only\nEnglish is supported for sentiment analysis.</p>","source":"google-cloud-language/lib/google/cloud/language/document.rb#L329","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/language\"\n\nlanguage = Google::Cloud::Language.new\n\ncontent = \"Darth Vader is the best villain in Star Wars.\"\ndocument = language.document content\n\nsentiment = document.sentiment\n\nsentiment.score #=> 1.0\nsentiment.magnitude #=> 0.8999999761581421\nsentiment.language #=> \"en\"\n\nsentence = sentiment.sentences.first\nsentence.sentiment.score #=> 1.0\nsentence.sentiment.magnitude #=> 0.8999999761581421"}],"params":[{"name":"encoding","types":["String"],"description":"The encoding type used by the API to\ncalculate offsets. Optional.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/language/annotation/sentiment\">Annotation::Sentiment</a>"],"description":"The results for the sentiment\nanalysis."}]}]}