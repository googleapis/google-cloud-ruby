{"id":"google/cloud/logging/logger","name":"Logger","title":["Google","Cloud","Logging","Logger"],"description":"<h1 id=\"logger\">Logger</h1>\n\n<p>An API-compatible replacement for ruby’s Logger that logs to the\nStackdriver Logging Service.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L53","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\n\nresource = logging.resource \"gae_app\",\n                            module_id: \"1\",\n                            version_id: \"20150925t173233\"\n\nlogger = logging.logger \"my_app_log\", resource, env: :production\nlogger.info \"Job started.\""},{"caption":"<p>Provide a hash to write a JSON payload to the log:</p>","code":"require \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\n\nresource = logging.resource \"gae_app\",\n                            module_id: \"1\",\n                            version_id: \"20150925t173233\"\n\nlogger = logging.logger \"my_app_log\", resource, env: :production\n\npayload = { \"stats\" => { \"a\" => 8, \"b\" => 12.5} }\nlogger.info payload"}],"methods":[{"id":"writer-instance","type":"instance","name":"writer","title":["Google","Cloud","Logging","Logger#writer"],"description":"<p>The Google Cloud writer object that calls to #write_entries are made\non. Either an AsyncWriter or Project object.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L69","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"log_name-instance","type":"instance","name":"log_name","title":["Google","Cloud","Logging","Logger#log_name"],"description":"<p>The Google Cloud log_name to write the log entry with.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L73","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"resource-instance","type":"instance","name":"resource","title":["Google","Cloud","Logging","Logger#resource"],"description":"<p>The Google Cloud resource to write the log entry with.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L78","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"labels-instance","type":"instance","name":"labels","title":["Google","Cloud","Logging","Logger#labels"],"description":"<p>The Google Cloud labels to write the log entry with.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L82","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"level-instance","type":"instance","name":"level","title":["Google","Cloud","Logging","Logger#level"],"description":"<p>The logging severity threshold (e.g. <code>Logger::INFO</code>)</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L86","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"silencer-instance","type":"instance","name":"silencer","title":["Google","Cloud","Logging","Logger#silencer"],"description":"<p>Boolean flag that indicates whether this logger can be silenced or\nnot.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L93","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"silencer=-instance","type":"instance","name":"silencer=","title":["Google","Cloud","Logging","Logger#silencer="],"description":"<p>Boolean flag that indicates whether this logger can be silenced or\nnot.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L93","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"formatter-instance","type":"instance","name":"formatter","title":["Google","Cloud","Logging","Logger#formatter"],"description":"<p>This logger does not use a formatter, but it provides a default\nLogger::Formatter for API compatibility with the standard Logger.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L98","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"formatter=-instance","type":"instance","name":"formatter=","title":["Google","Cloud","Logging","Logger#formatter="],"description":"<p>This logger does not use a formatter, but it provides a default\nLogger::Formatter for API compatibility with the standard Logger.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L98","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"datetime_format-instance","type":"instance","name":"datetime_format","title":["Google","Cloud","Logging","Logger#datetime_format"],"description":"<p>This logger does not use a formatter, but it implements this\nattribute for API compatibility with the standard Logger.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L103","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"datetime_format=-instance","type":"instance","name":"datetime_format=","title":["Google","Cloud","Logging","Logger#datetime_format="],"description":"<p>This logger does not use a formatter, but it implements this\nattribute for API compatibility with the standard Logger.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L103","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"project-instance","type":"instance","name":"project","title":["Google","Cloud","Logging","Logger#project"],"description":"<p>The project ID this logger is sending data to. If set, this value is\nused to set the trace field of log entries.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L108","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"project=-instance","type":"instance","name":"project=","title":["Google","Cloud","Logging","Logger#project="],"description":"<p>The project ID this logger is sending data to. If set, this value is\nused to set the trace field of log entries.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L108","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"progname=-instance","type":"instance","name":"progname=","title":["Google","Cloud","Logging","Logger#progname="],"description":"<p>This logger treats progname as an alias for log_name.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L112","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"trace_ids-instance","type":"instance","name":"trace_ids","title":["Google","Cloud","Logging","Logger#trace_ids"],"description":"<p>A Hash of Thread IDs to Stackdriver request trace ID. The\nStackdriver trace ID is a shared request identifier across all\nStackdriver services.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L123","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","Logging","Logger#initialize"],"description":"<p>Create a new Logger instance.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L163","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\n\nwriter = logging.async_writer max_queue_size: 1000\n\nresource = logging.resource \"gae_app\", labels: {\n                              \"module_id\" => \"1\",\n                              \"version_id\" => \"20150925t173233\"\n                            }\n\nlogger = Google::Cloud::Logging::Logger.new writer,\n                                            \"my_app_log\",\n                                            resource,\n                                            env: :production\nlogger.info \"Job started.\""}],"params":[{"name":"writer","types":["#write_entries"],"description":"The object that will transmit log\nentries. Generally, to create a logger that blocks on transmitting\nlog entries, pass the Project; otherwise, to create a logger that\ntransmits log entries in the background, pass an AsyncWriter. You\nmay also pass any other object that responds to #write_entries.","optional":false,"nullable":false},{"name":"log_name","types":["String"],"description":"A log resource name to be associated with the\nwritten log entries.","optional":false,"nullable":false},{"name":"resource","types":["Google::Cloud::Logging::Resource"],"description":"The monitored\nresource to be associated with written log entries.","optional":false,"nullable":false},{"name":"labels","types":["Hash"],"description":"A set of user-defined data to be associated with\nwritten log entries.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/logging/logger\">Google::Cloud::Logging::Logger</a>"],"description":"a Logger object that can be\nused in place of a ruby standard library logger object."}]},{"id":"debug-instance","type":"instance","name":"debug","title":["Google","Cloud","Logging","Logger#debug"],"description":"<p>Log a <code>DEBUG</code> entry.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L191","resources":[],"examples":[],"params":[{"name":"message","types":["String","Hash"],"description":"The log entry payload, represented as\neither a string, a hash (JSON), or a hash (protocol buffer).","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"Evaluates to the message to log. This is not evaluated unless\nthe logger’s level is sufficient to log the message. This allows you\nto create potentially expensive logging messages that are only\ncalled when the logger is configured to show them.","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"info-instance","type":"instance","name":"info","title":["Google","Cloud","Logging","Logger#info"],"description":"<p>Log an <code>INFO</code> entry.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L209","resources":[],"examples":[],"params":[{"name":"message","types":["String","Hash"],"description":"The log entry payload, represented as\neither a string, a hash (JSON), or a hash (protocol buffer).","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"Evaluates to the message to log. This is not evaluated unless\nthe logger’s level is sufficient to log the message. This allows you\nto create potentially expensive logging messages that are only\ncalled when the logger is configured to show them.","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"warn-instance","type":"instance","name":"warn","title":["Google","Cloud","Logging","Logger#warn"],"description":"<p>Log a <code>WARN</code> entry.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L227","resources":[],"examples":[],"params":[{"name":"message","types":["String","Hash"],"description":"The log entry payload, represented as\neither a string, a hash (JSON), or a hash (protocol buffer).","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"Evaluates to the message to log. This is not evaluated unless\nthe logger’s level is sufficient to log the message. This allows you\nto create potentially expensive logging messages that are only\ncalled when the logger is configured to show them.","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"error-instance","type":"instance","name":"error","title":["Google","Cloud","Logging","Logger#error"],"description":"<p>Log an <code>ERROR</code> entry.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L245","resources":[],"examples":[],"params":[{"name":"message","types":["String","Hash"],"description":"The log entry payload, represented as\neither a string, a hash (JSON), or a hash (protocol buffer).","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"Evaluates to the message to log. This is not evaluated unless\nthe logger’s level is sufficient to log the message. This allows you\nto create potentially expensive logging messages that are only\ncalled when the logger is configured to show them.","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"fatal-instance","type":"instance","name":"fatal","title":["Google","Cloud","Logging","Logger#fatal"],"description":"<p>Log a <code>FATAL</code> entry.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L263","resources":[],"examples":[],"params":[{"name":"message","types":["String","Hash"],"description":"The log entry payload, represented as\neither a string, a hash (JSON), or a hash (protocol buffer).","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"Evaluates to the message to log. This is not evaluated unless\nthe logger’s level is sufficient to log the message. This allows you\nto create potentially expensive logging messages that are only\ncalled when the logger is configured to show them.","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"unknown-instance","type":"instance","name":"unknown","title":["Google","Cloud","Logging","Logger#unknown"],"description":"<p>Log an <code>UNKNOWN</code> entry. This will be printed no matter what the\nlogger’s current severity level is.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L282","resources":[],"examples":[],"params":[{"name":"message","types":["String","Hash"],"description":"The log entry payload, represented as\neither a string, a hash (JSON), or a hash (protocol buffer).","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"Evaluates to the message to log. This is not evaluated unless\nthe logger’s level is sufficient to log the message. This allows you\nto create potentially expensive logging messages that are only\ncalled when the logger is configured to show them.","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"add-instance","type":"instance","name":"add","title":["Google","Cloud","Logging","Logger#add"],"description":"<p>Log a message if the given severity is high enough. This is the\ngeneric logging method. Users will be more inclined to use <a data-custom-type=\"google/cloud/logging/logger\" data-method=\"debug-instance\">#debug</a>,\n<a data-custom-type=\"google/cloud/logging/logger\" data-method=\"info-instance\">#info</a>, <a data-custom-type=\"google/cloud/logging/logger\" data-method=\"warn-instance\">#warn</a>, <a data-custom-type=\"google/cloud/logging/logger\" data-method=\"error-instance\">#error</a>, and <a data-custom-type=\"google/cloud/logging/logger\" data-method=\"fatal-instance\">#fatal</a>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L304","resources":[],"examples":[],"params":[{"name":"severity","types":["Integer","String","Symbol"],"description":"the integer code for or the\nname of the severity level","optional":false,"nullable":false},{"name":"message","types":["String","Hash"],"description":"The log entry payload, represented as\neither a string, a hash (JSON), or a hash (protocol buffer).","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"Evaluates to the message to log. This is not evaluated unless\nthe logger’s level is sufficient to log the message. This allows you\nto create potentially expensive logging messages that are only\ncalled when the logger is configured to show them.","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"<<-instance","type":"instance","name":"<<","title":["Google","Cloud","Logging","Logger#<<"],"description":"<p>Logs the given message at UNKNOWN severity.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L327","resources":[],"examples":[],"params":[{"name":"msg","types":["String"],"description":"The log entry payload as a string.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"debug?-instance","type":"instance","name":"debug?","title":["Google","Cloud","Logging","Logger#debug?"],"description":"<p>Returns <code>true</code> if the current severity level allows for sending\n<code>DEBUG</code> messages.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L335","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"info?-instance","type":"instance","name":"info?","title":["Google","Cloud","Logging","Logger#info?"],"description":"<p>Returns <code>true</code> if the current severity level allows for sending <code>INFO</code>\nmessages.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L342","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"warn?-instance","type":"instance","name":"warn?","title":["Google","Cloud","Logging","Logger#warn?"],"description":"<p>Returns <code>true</code> if the current severity level allows for sending <code>WARN</code>\nmessages.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L349","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"error?-instance","type":"instance","name":"error?","title":["Google","Cloud","Logging","Logger#error?"],"description":"<p>Returns <code>true</code> if the current severity level allows for sending\n<code>ERROR</code> messages.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L356","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"fatal?-instance","type":"instance","name":"fatal?","title":["Google","Cloud","Logging","Logger#fatal?"],"description":"<p>Returns <code>true</code> if the current severity level allows for sending\n<code>FATAL</code> messages.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L363","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"unknown?-instance","type":"instance","name":"unknown?","title":["Google","Cloud","Logging","Logger#unknown?"],"description":"<p>Returns <code>true</code> if the current severity level allows for sending\n<code>UNKNOWN</code> messages.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L370","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"level=-instance","type":"instance","name":"level=","title":["Google","Cloud","Logging","Logger#level="],"description":"<p>Sets the logging severity level.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L394","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\n\nresource = logging.resource \"gae_app\",\n                            module_id: \"1\",\n                            version_id: \"20150925t173233\"\n\nlogger = logging.logger \"my_app_log\", resource, env: :production\n\nlogger.level = \"INFO\"\nlogger.debug \"Job started.\" # No log entry written"}],"params":[{"name":"severity","types":["Integer","String","Symbol"],"description":"the integer code for or the\nname of the severity level","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"close-instance","type":"instance","name":"close","title":["Google","Cloud","Logging","Logger#close"],"description":"<p>Close the logging “device”. This effectively disables logging from\nthis logger; any further log messages will be silently ignored. The\nlogger may be re-enabled by calling #reopen.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L409","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"reopen-instance","type":"instance","name":"reopen","title":["Google","Cloud","Logging","Logger#reopen"],"description":"<p>Re-enable logging if the logger has been closed.</p>\n\n<p>Note that this method accepts a “logdev” argument for compatibility\nwith the standard Ruby Logger class; however, this argument is\nignored because this logger does not use a log device.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L421","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"add_trace_id-instance","type":"instance","name":"add_trace_id","title":["Google","Cloud","Logging","Logger#add_trace_id"],"description":"<p>Track a given trace_id by associating it with the current\nThread</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L432","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"add_request_info-instance","type":"instance","name":"add_request_info","title":["Google","Cloud","Logging","Logger#add_request_info"],"description":"<p>Associate request data with the current Thread. You may provide\neither the individual pieces of data (trace ID, log name) or a\npopulated RequestInfo object.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L451","resources":[],"examples":[],"params":[{"name":"info","types":["RequestInfo"],"description":"Info about the current request. Optional.\nIf not present, a new RequestInfo is created using the remaining\nparameters.","optional":true,"default":"nil","nullable":true},{"name":"trace_id","types":["String","nil"],"description":"The trace ID, or <code>nil</code> if no trace ID\nshould be logged.","optional":true,"default":"nil","nullable":true},{"name":"log_name","types":["String","nil"],"description":"The log name to use, or nil to use\nthis logger’s default.","optional":true,"default":"nil","nullable":true},{"name":"env","types":["Hash","nil"],"description":"The request’s Rack environment or <code>nil</code> if not\navailable.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"id":"request_info-instance","type":"instance","name":"request_info","title":["Google","Cloud","Logging","Logger#request_info"],"description":"<p>Get the request data for the current Thread</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L472","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/logging/logger/requestinfo\">RequestInfo</a>","nil"],"description":"The request data for the current thread,\nor <code>nil</code> if there is no data set."}]},{"id":"delete_request_info-instance","type":"instance","name":"delete_request_info","title":["Google","Cloud","Logging","Logger#delete_request_info"],"description":"<p>Untrack the RequestInfo that’s associated with current Thread</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L481","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/logging/logger/requestinfo\">RequestInfo</a>"],"description":"The info that’s being deleted"}]},{"id":"flush-instance","type":"instance","name":"flush","title":["Google","Cloud","Logging","Logger#flush"],"description":"<p>No-op method. Created to match the spec of ActiveSupport::Logger#flush\nmethod when used in Rails application.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L492","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"silence-instance","type":"instance","name":"silence","title":["Google","Cloud","Logging","Logger#silence"],"description":"<p>Filter out low severity messages within block.</p>","source":"google-cloud-logging/lib/google/cloud/logging/logger.rb#L518","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\n\nresource = logging.resource \"gae_app\",\n                            module_id: \"1\",\n                            version_id: \"20150925t173233\"\n\nlogger = logging.logger \"my_app_log\", resource, env: :production\n\nlogger.silence do\n  logger.info \"Info message\"   # No log entry written\n  logger.error \"Error message\" # Log entry written\nend"}],"params":[{"name":"temp_level","types":["Integer"],"description":"Severity threshold to filter within the\nblock. Messages with lower severity will be blocked. Default\n::Logger::ERROR","optional":true,"default":"::Logger::ERROR","nullable":false}],"exceptions":[],"returns":[]}]}