{"id":"google/cloud/logging/railtie","name":"Railtie","title":["Google","Cloud","Logging","Railtie"],"description":"<p>Railtie</p>\n\n<p>Google::Cloud::Logging::Railtie automatically add the\nGoogle::Cloud::Logging::Middleware to Rack in a Rails environment.\nThe middleware will set env[‘rack.logger’] to a\nGoogle::Cloud::Logging::Logger instance to be used by the Rails\napplication.</p>\n\n<p>The Middleware is only added when certain conditions are met. See\nuse_logging? for detail.</p>\n\n<p>When loaded, the Google::Cloud::Logging::Middleware will be inserted\nbefore the Rails::Rack::Logger Middleware, which allows it to set the\nenv[‘rack.logger’] in place of Rails’s default logger. The Railtie\nshould also initialize the logger with correct GCP project_id\nand keyfile if they are defined in Rails environment.rb as follow:\n  config.google_cloud.logging.project_id = “my-gcp-project”\n  config.google_cloud.logging.keyfile = “/path/to/secret.json”\nor\n  config.google_cloud.project_id = “my-gcp-project”\n  config.google_cloud.keyfile = “/path/to/secret.json”\nIf omitted, project_id will be initialized with default environment\nvariables.</p>","source":"google-cloud-logging/lib/google/cloud/logging/rails.rb#L49","resources":[],"examples":[],"methods":[{"id":"use_logging?-class","type":"class","name":"use_logging?","title":["Google","Cloud","Logging","Railtie.use_logging?"],"description":"<p>Determine whether to use Stackdriver Logging or not.</p>\n\n<p>Returns true if valid GCP project_id is provided and underneath API is\nable to authenticate. Also either Rails needs to be in “production”\nenvironment or config.stackdriver.use_logging is explicitly true.</p>","source":"google-cloud-logging/lib/google/cloud/logging/rails.rb#L94","resources":[],"examples":[],"params":[{"name":"config","types":["Rails::Railtie::Configuration"],"description":"The\nRails.application.config","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Whether to use Stackdriver Logging"}]}]}