{"id":"google/cloud/logging/middleware","name":"Middleware","title":["Google","Cloud","Logging","Middleware"],"description":"","source":"google-cloud-logging/lib/google/cloud/logging/middleware.rb#L19","resources":[],"examples":[],"methods":[{"id":"logger-instance","type":"instance","name":"logger","title":["Google","Cloud","Logging","Middleware#logger"],"description":"<p>The Google::Cloud::Logging::Logger instance</p>","source":"google-cloud-logging/lib/google/cloud/logging/middleware.rb#L22","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","Logging","Middleware#initialize"],"description":"<p>Create a new AppEngine logging Middleware.</p>","source":"google-cloud-logging/lib/google/cloud/logging/middleware.rb#L37","resources":[],"examples":[],"params":[{"name":"app","types":null,"description":"Rack application","optional":false,"nullable":false},{"name":"logger","types":["Google::Cloud::Logging::Logger"],"description":"A logger to be used by\nthis middleware. The middleware will be interacting with the logger\nto track Stackdriver request trace ID. It also properly sets\nenv[“rack.logger”] to this assigned logger for accessing.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/logging/middleware\">Google::Cloud::Logging::Middleware</a>"],"description":"A new\nGoogle::Cloud::Logging::Middleware instance"}]},{"id":"call-instance","type":"instance","name":"call","title":["Google","Cloud","Logging","Middleware#call"],"description":"<p>Rack middleware entry point. In most Rack based frameworks, a request\nis served by one thread. So entry point, we associate the GCP request\ntrace_id with the current thread’s object_id in logger. All the logs\nwritten by logger beyond this point will carry this request’s\ntrace_id. Untrack the trace_id with this thread upon exiting.</p>","source":"google-cloud-logging/lib/google/cloud/logging/middleware.rb#L53","resources":[],"examples":[],"params":[{"name":"env","types":["Hash"],"description":"Rack environment hash","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":null,"description":"The response from downstream Rack app"}]},{"id":"extract_trace_id-instance","type":"instance","name":"extract_trace_id","title":["Google","Cloud","Logging","Middleware#extract_trace_id"],"description":"<p>Extract the trace_id from HTTP request header\nHTTP_X_CLOUD_TRACE_CONTEXT.</p>","source":"google-cloud-logging/lib/google/cloud/logging/middleware.rb#L70","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The trace_id or nil if trace_id is empty."}]}]}