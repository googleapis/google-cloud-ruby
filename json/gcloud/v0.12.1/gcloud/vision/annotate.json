{"id":"gcloud/vision/annotate","name":"Annotate","title":["Gcloud","Vision","Annotate"],"description":"<h1 id=\"annotate\">Annotate</h1>\n\n<p>Accumulates configuration for an image annotation request. Users describe\nthe type of Google Cloud Vision API tasks to perform over images by\nconfiguring features such as <code>faces</code>, <code>landmarks</code>, <code>text</code>, etc. This\nconfiguration captures the Cloud Vision API vertical to operate on and the\nnumber of top-scoring results to return.</p>\n\n<p>See <a data-custom-type=\"gcloud/vision/project\" data-method=\"annotate-instance\">Project#annotate</a>.</p>","source":"lib/gcloud/vision/annotate.rb#L50","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nface_image = vision.image \"path/to/face.jpg\"\nlandmark_image = vision.image \"path/to/landmark.jpg\"\n\nannotation = vision.annotate do |annotate|\n   annotate.annotate face_image, faces: true, labels: true\n   annotate.annotate landmark_image, landmarks: true\nend\n\nannotation.faces.count #=> 1\nannotation.labels.count #=> 4\nannotation.landmarks.count #=> 1"}],"methods":[{"id":"annotate-instance","type":"instance","name":"annotate","title":["Gcloud","Vision","Annotate#annotate"],"description":"<p>Performs detection of Cloud Vision <a href=\"https://cloud.google.com/vision/reference/rest/v1/images/annotate#Feature\">features</a>\non the given images. If no options for features are provided, <strong>all</strong>\nimage detection features will be performed, with a default of <code>100</code>\nresults for faces, landmarks, logos, and labels. If any feature option\nis provided, only the specified feature detections will be performed.\nPlease review <a href=\"https://cloud.google.com/vision/docs/pricing\">Pricing</a>\nbefore use, as a separate charge is incurred for each feature performed\non an image.</p>\n\n<p>Cloud Vision sets upper limits on file size as well as on the total\ncombined size of all images in a request. Reducing your file size can\nsignificantly improve throughput; however, be careful not to reduce\nimage quality in the process. See <a href=\"https://cloud.google.com/vision/docs/image-best-practices#image_sizing\">Best Practices - Image\nSizing</a>\nfor current file size limits.</p>\n\n<p>See <a data-custom-type=\"gcloud/vision/project\" data-method=\"annotate-instance\">Project#annotate</a> for requests that do not involve multiple feature\nconfigurations.</p>","source":"lib/gcloud/vision/annotate.rb#L137","resources":[{"title":"Cloud\nVision API Requests and Responses","link":"https://cloud.google.com/vision/docs/requests-and-responses"},{"title":"AnnotateImageRequest","link":"https://cloud.google.com/vision/reference/rest/v1/images/annotate#AnnotateImageRequest"},{"title":"Cloud Vision Pricing","link":"https://cloud.google.com/vision/docs/pricing"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nface_image = vision.image \"path/to/face.jpg\"\nlandmark_image = vision.image \"path/to/landmark.jpg\"\ntext_image = vision.image \"path/to/text.png\"\n\nannotations = vision.annotate do |annotate|\n   annotate.annotate face_image, faces: true, labels: true\n   annotate.annotate landmark_image, landmarks: true\n   annotate.annotate text_image, text: true\nend\n\nannotations[0].faces.count #=> 1\nannotations[0].labels.count #=> 4\nannotations[1].landmarks.count #=> 1\nannotations[2].text.words.count #=> 28"}],"params":[{"name":"images","types":["Image","Object"],"description":"The image or images to annotate. This can\nbe an <a data-custom-type=\"gcloud/vision/image\">Image</a> instance, or any other type that converts to an <a data-custom-type=\"gcloud/vision/image\">Image</a>.\nSee <a data-custom-type=\"gcloud/vision/annotate\" data-method=\"image-instance\">#image</a> for details.","optional":false,"nullable":false},{"name":"faces","types":["Boolean","Integer"],"description":"Whether to perform the facial detection\nfeature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_faces-class\">Gcloud::Vision.default_max_faces</a>, or may be provided here. Optional.","optional":true,"default":"false","nullable":false},{"name":"landmarks","types":["Boolean","Integer"],"description":"Whether to perform the landmark\ndetection feature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_landmarks-class\">Gcloud::Vision.default_max_landmarks</a>, or may be provided here.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"logos","types":["Boolean","Integer"],"description":"Whether to perform the logo detection\nfeature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_logos-class\">Gcloud::Vision.default_max_logos</a>, or may be provided here. Optional.","optional":true,"default":"false","nullable":false},{"name":"labels","types":["Boolean","Integer"],"description":"Whether to perform the label detection\nfeature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_labels-class\">Gcloud::Vision.default_max_labels</a>, or may be provided here.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"text","types":["Boolean"],"description":"Whether to perform the text (OCR) feature.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"safe_search","types":["Boolean"],"description":"Whether to perform the safe search feature.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"properties","types":["Boolean"],"description":"Whether to perform the image properties\nfeature (currently, the imageâ€™s dominant colors.) Optional.","optional":true,"default":"false","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/vision/annotation\">Annotation</a>","Array&lt;<a data-custom-type=\"gcloud/vision/annotation\">Annotation</a>&gt;"],"description":"The results for all image\ndetections, returned as a single <a data-custom-type=\"gcloud/vision/annotation\">Annotation</a> instance for one image,\nor as an array of <a data-custom-type=\"gcloud/vision/annotation\">Annotation</a> instances, one per image, for multiple\nimages."}]}]}