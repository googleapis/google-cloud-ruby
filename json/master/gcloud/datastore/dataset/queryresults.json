{"id":"gcloud/datastore/dataset/queryresults","name":"QueryResults","title":["Gcloud","Datastore","Dataset","QueryResults"],"description":"<p>QueryResults is a special case Array with additional values.\nA QueryResults object is returned from Dataset#run and contains\nthe Entities from the query as well as the queryâ€™s cursor and\nmore_results value.</p>\n\n<p>Please be cautious when treating the QueryResults as an Array.\nMany common Array methods will return a new Array instance.</p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L43","resources":[],"examples":[{"caption":"","code":"tasks = datastore.run query\ntasks.size #=> 3\ntasks.cursor #=> Gcloud::Datastore::Cursor(c3VwZXJhd2Vzb21lIQ)"},{"caption":"<p>Caution, many Array methods will return a new Array instance:</p>","code":"tasks = datastore.run query\ntasks.size #=> 3\ntasks.end_cursor #=> Gcloud::Datastore::Cursor(c3VwZXJhd2Vzb21lIQ)\ndescriptions = tasks.map { |task| task[\"description\"] }\ndescriptions.size #=> 3\ndescriptions.cursor #=> NoMethodError"}],"methods":[{"id":"end_cursor-instance","type":"instance","name":"end_cursor","title":["Gcloud","Datastore","Dataset","QueryResults#end_cursor"],"description":"<p>The end_cursor of the QueryResults.</p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L48","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/datastore/cursor\">Gcloud::Datastore::Cursor</a>"],"description":""}]},{"id":"more_results-instance","type":"instance","name":"more_results","title":["Gcloud","Datastore","Dataset","QueryResults#more_results"],"description":"<p>The state of the query after the current batch.</p>\n\n<p>Expected values are:</p>\n\n<ul>\n  <li><code>:NOT_FINISHED</code></li>\n  <li><code>:MORE_RESULTS_AFTER_LIMIT</code></li>\n  <li><code>:MORE_RESULTS_AFTER_CURSOR</code></li>\n  <li><code>:NO_MORE_RESULTS</code></li>\n</ul>","source":"lib/gcloud/datastore/dataset/query_results.rb#L60","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"not_finished?-instance","type":"instance","name":"not_finished?","title":["Gcloud","Datastore","Dataset","QueryResults#not_finished?"],"description":"<p>Convenience method for determining if the <code>more_results</code> value\nis <code>:NOT_FINISHED</code></p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L73","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"more_after_limit?-instance","type":"instance","name":"more_after_limit?","title":["Gcloud","Datastore","Dataset","QueryResults#more_after_limit?"],"description":"<p>Convenience method for determining if the <code>more_results</code> value\nis <code>:MORE_RESULTS_AFTER_LIMIT</code></p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L80","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"more_after_cursor?-instance","type":"instance","name":"more_after_cursor?","title":["Gcloud","Datastore","Dataset","QueryResults#more_after_cursor?"],"description":"<p>Convenience method for determining if the <code>more_results</code> value\nis <code>:MORE_RESULTS_AFTER_CURSOR</code></p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L87","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"no_more?-instance","type":"instance","name":"no_more?","title":["Gcloud","Datastore","Dataset","QueryResults#no_more?"],"description":"<p>Convenience method for determining if the <code>more_results</code> value\nis <code>:NO_MORE_RESULTS</code></p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L94","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Gcloud","Datastore","Dataset","QueryResults#initialize"],"description":"<p>Create a new QueryResults with an array of values.</p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L100","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/datastore/dataset/queryresults\">QueryResults</a>"],"description":"a new instance of QueryResults"}]},{"id":"next?-instance","type":"instance","name":"next?","title":["Gcloud","Datastore","Dataset","QueryResults#next?"],"description":"<p>Whether there are more results available.</p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L106","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"next-instance","type":"instance","name":"next","title":["Gcloud","Datastore","Dataset","QueryResults#next"],"description":"<p>Retrieve the next page of results.</p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L112","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"all-instance","type":"instance","name":"all","title":["Gcloud","Datastore","Dataset","QueryResults#all"],"description":"<p>Retrieves all datastore entries by repeatedly loading <a data-custom-type=\"gcloud/datastore/dataset/queryresults\" data-method=\"next-instance\">#next</a> until\n<a data-custom-type=\"gcloud/datastore/dataset/queryresults\" data-method=\"next?-instance\">#next?</a> returns <code>false</code>. Returns the list instance for method\nchaining.</p>\n\n<p>This method may make several API calls until all datastore entries are\nretrieved. Be sure to use as narrow a search criteria as possible.\nPlease use with caution.</p>","source":"lib/gcloud/datastore/dataset/query_results.rb#L141","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\ndatastore = gcloud.datastore\nhour_ago = (Time.now - 60*60).utc.strftime('%FT%TZ')\nrecent_errors = \"timestamp >= \\\"#{hour_ago}\\\" severity >= ERROR\"\nentries = datastore.entries(filter: recent_errors).all"}],"params":[],"exceptions":[],"returns":[]}]}