{"id":"google/cloud/storage/file","name":"File","title":["Google","Cloud","Storage","File"],"description":"<h1 id=\"file\">File</h1>\n\n<p>Represents a File\n(<a href=\"https://cloud.google.com/storage/docs/json_api/v1/objects\">Object</a>)\nthat belongs to a <a data-custom-type=\"google/cloud/storage/bucket\">Bucket</a>. Files (Objects) are the individual pieces of\ndata that you store in Google Cloud Storage. A file can be up to 5 TB in\nsize. Files have two components: data and metadata. The data component\nis the data from an external file or other data source that you want to\nstore in Google Cloud Storage. The metadata component is a collection of\nname-value pairs that describe various qualities of the data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L49","resources":[{"title":"Concepts\nand Techniques","link":"https://cloud.google.com/storage/docs/concepts-techniques"}],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.download \"path/to/downloaded/file.ext\""}],"methods":[{"id":"kind-instance","type":"instance","name":"kind","title":["Google","Cloud","Storage","File#kind"],"description":"<p>The kind of item this is.\nFor files, this is always storage#object.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L68","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"id-instance","type":"instance","name":"id","title":["Google","Cloud","Storage","File#id"],"description":"<p>The ID of the file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L74","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"name-instance","type":"instance","name":"name","title":["Google","Cloud","Storage","File#name"],"description":"<p>The name of this file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L80","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"bucket-instance","type":"instance","name":"bucket","title":["Google","Cloud","Storage","File#bucket"],"description":"<p>The name of the <a data-custom-type=\"google/cloud/storage/bucket\">Bucket</a> containing this file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L86","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"generation-instance","type":"instance","name":"generation","title":["Google","Cloud","Storage","File#generation"],"description":"<p>The content generation of this file.\nUsed for object versioning.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L93","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"metageneration-instance","type":"instance","name":"metageneration","title":["Google","Cloud","Storage","File#metageneration"],"description":"<p>The version of the metadata for this file at this generation.\nUsed for preconditions and for detecting changes in metadata.\nA metageneration number is only meaningful in the context of a\nparticular generation of a particular file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L102","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"api_url-instance","type":"instance","name":"api_url","title":["Google","Cloud","Storage","File#api_url"],"description":"<p>A URL that can be used to access the file using the REST API.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L108","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"media_url-instance","type":"instance","name":"media_url","title":["Google","Cloud","Storage","File#media_url"],"description":"<p>A URL that can be used to download the file using the REST API.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L114","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"size-instance","type":"instance","name":"size","title":["Google","Cloud","Storage","File#size"],"description":"<p>Content-Length of the data in bytes.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L120","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"created_at-instance","type":"instance","name":"created_at","title":["Google","Cloud","Storage","File#created_at"],"description":"<p>Creation time of the file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L126","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"updated_at-instance","type":"instance","name":"updated_at","title":["Google","Cloud","Storage","File#updated_at"],"description":"<p>The creation or modification time of the file.\nFor buckets with versioning enabled, changing an object’s\nmetadata does not change this property.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L134","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"md5-instance","type":"instance","name":"md5","title":["Google","Cloud","Storage","File#md5"],"description":"<p>MD5 hash of the data; encoded using base64.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L140","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"crc32c-instance","type":"instance","name":"crc32c","title":["Google","Cloud","Storage","File#crc32c"],"description":"<p>The CRC32c checksum of the data, as described in\n<a href=\"http://tools.ietf.org/html/rfc4960#appendix-B\">RFC 4960, Appendix B</a>.\nEncoded using base64 in big-endian byte order.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L148","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"etag-instance","type":"instance","name":"etag","title":["Google","Cloud","Storage","File#etag"],"description":"<p>HTTP 1.1 Entity tag for the file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L154","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"cache_control-instance","type":"instance","name":"cache_control","title":["Google","Cloud","Storage","File#cache_control"],"description":"<p>The <a href=\"https://tools.ietf.org/html/rfc7234#section-5.2\">Cache-Control</a>\ndirective for the file data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L161","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"cache_control=-instance","type":"instance","name":"cache_control=","title":["Google","Cloud","Storage","File#cache_control="],"description":"<p>Updates the\n<a href=\"https://tools.ietf.org/html/rfc7234#section-5.2\">Cache-Control</a>\ndirective for the file data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L169","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_disposition-instance","type":"instance","name":"content_disposition","title":["Google","Cloud","Storage","File#content_disposition"],"description":"<p>The <a href=\"https://tools.ietf.org/html/rfc6266\">Content-Disposition</a> of the\nfile data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L177","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_disposition=-instance","type":"instance","name":"content_disposition=","title":["Google","Cloud","Storage","File#content_disposition="],"description":"<p>Updates the <a href=\"https://tools.ietf.org/html/rfc6266\">Content-Disposition</a>\nof the file data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L184","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_encoding-instance","type":"instance","name":"content_encoding","title":["Google","Cloud","Storage","File#content_encoding"],"description":"<p>The <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.2.2\">Content-Encoding\n</a> of the file\ndata.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L193","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_encoding=-instance","type":"instance","name":"content_encoding=","title":["Google","Cloud","Storage","File#content_encoding="],"description":"<p>Updates the <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.2.2\">Content-Encoding\n</a> of the file\ndata.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L201","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_language-instance","type":"instance","name":"content_language","title":["Google","Cloud","Storage","File#content_language"],"description":"<p>The <a href=\"http://tools.ietf.org/html/bcp47\">Content-Language</a> of the file\ndata.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L209","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_language=-instance","type":"instance","name":"content_language=","title":["Google","Cloud","Storage","File#content_language="],"description":"<p>Updates the <a href=\"http://tools.ietf.org/html/bcp47\">Content-Language</a> of\nthe file data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L216","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_type-instance","type":"instance","name":"content_type","title":["Google","Cloud","Storage","File#content_type"],"description":"<p>The <a href=\"https://tools.ietf.org/html/rfc2616#section-14.17\">Content-Type</a>\nof the file data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L224","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"content_type=-instance","type":"instance","name":"content_type=","title":["Google","Cloud","Storage","File#content_type="],"description":"<p>Updates the\n<a href=\"https://tools.ietf.org/html/rfc2616#section-14.17\">Content-Type</a> of\nthe file data.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L232","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"metadata-instance","type":"instance","name":"metadata","title":["Google","Cloud","Storage","File#metadata"],"description":"<p>A hash of custom, user-provided web-safe keys and arbitrary string\nvalues that will returned with requests for the file as “x-goog-meta-“\nresponse headers.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L241","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"metadata=-instance","type":"instance","name":"metadata=","title":["Google","Cloud","Storage","File#metadata="],"description":"<p>Updates the hash of custom, user-provided web-safe keys and arbitrary\nstring values that will returned with requests for the file as\n“x-goog-meta-“ response headers.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L251","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"encryption_key_sha256-instance","type":"instance","name":"encryption_key_sha256","title":["Google","Cloud","Storage","File#encryption_key_sha256"],"description":"<p>An <a href=\"https://tools.ietf.org/html/rfc4648#section-4\">RFC 4648</a>\nBase64-encoded string of the SHA256 hash of the <a href=\"https://cloud.google.com/storage/docs/encryption#customer-supplied\">customer-supplied\nencryption\nkey</a>.\nYou can use this SHA256 hash to uniquely identify the AES-256\nencryption key required to decrypt this file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L263","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"update-instance","type":"instance","name":"update","title":["Google","Cloud","Storage","File#update"],"description":"<p>Updates the file with changes made in the given block in a single\nPATCH request. The following attributes may be set: <a data-custom-type=\"google/cloud/storage/file\" data-method=\"cache_control=-instance\">#cache_control=</a>,\n<a data-custom-type=\"google/cloud/storage/file\" data-method=\"content_disposition=-instance\">#content_disposition=</a>, <a data-custom-type=\"google/cloud/storage/file\" data-method=\"content_encoding=-instance\">#content_encoding=</a>, <a data-custom-type=\"google/cloud/storage/file\" data-method=\"content_language=-instance\">#content_language=</a>,\n<a data-custom-type=\"google/cloud/storage/file\" data-method=\"content_type=-instance\">#content_type=</a>, and <a data-custom-type=\"google/cloud/storage/file\" data-method=\"metadata=-instance\">#metadata=</a>. The <a data-custom-type=\"google/cloud/storage/file\" data-method=\"metadata-instance\">#metadata</a> hash accessible in\nthe block is completely mutable and will be included in the request.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L296","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\n\nfile.update do |f|\n  f.cache_control = \"private, max-age=0, no-cache\"\n  f.content_disposition = \"inline; filename=filename.ext\"\n  f.content_encoding = \"deflate\"\n  f.content_language = \"de\"\n  f.content_type = \"application/json\"\n  f.metadata[\"player\"] = \"Bob\"\n  f.metadata[\"score\"] = \"10\"\nend"}],"params":[{"name":"yield","types":["block"],"description":"a block yielding a delegate object for updating the file","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"download-instance","type":"instance","name":"download","title":["Google","Cloud","Storage","File#download"],"description":"<p>Download the file’s contents to a local file.</p>\n\n<p>By default, the download is verified by calculating the MD5 digest.</p>\n\n<p>If a <a href=\"https://cloud.google.com/storage/docs/encryption#customer-supplied\">customer-supplied encryption\nkey</a>\nwas used with <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">Bucket#create_file</a>, the <code>encryption_key</code> and\n<code>encryption_key_sha256</code> options must be provided.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L376","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.download \"path/to/downloaded/file.ext\""},{"caption":"<p>Use the CRC32c digest by passing :crc32c.</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.download \"path/to/downloaded/file.ext\", verify: :crc32c"},{"caption":"<p>Use the MD5 and CRC32c digests by passing :all.</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.download \"path/to/downloaded/file.ext\", verify: :all"},{"caption":"<p>Disable the download verification by passing :none.</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.download \"path/to/downloaded/file.ext\", verify: :none"}],"params":[{"name":"path","types":["String"],"description":"The path on the local file system to write the\ndata to. The path provided must be writable.","optional":false,"nullable":false},{"name":"verify","types":["Symbol"],"description":"The verification algoruthm used to ensure the\ndownloaded file contents are correct. Default is <code>:md5</code>.</p>\n\n<p>Acceptable values are:</p>\n\n<ul>\n  <li><code>md5</code> - Verify file content match using the MD5 hash.</li>\n  <li><code>crc32c</code> - Verify file content match using the CRC32c hash.</li>\n  <li><code>all</code> - Perform all available file content verification.</li>\n  <li><code>none</code> - Don’t perform file content verification.</li>\n</ul>","optional":true,"default":":md5","nullable":false},{"name":"encryption_key","types":["String"],"description":"Optional. The customer-supplied,\nAES-256 encryption key used to encrypt the file, if one was provided\nto <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">Bucket#create_file</a>. Must be provided if <code>encryption_key_sha256</code>\nis provided.","optional":true,"default":"nil","nullable":true},{"name":"encryption_key_sha256","types":["String"],"description":"Optional. The SHA256 hash of the\ncustomer-supplied, AES-256 encryption key used to encrypt the file,\nif one was provided to <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">Bucket#create_file</a>. Must be provided if\n<code>encryption_key</code> is provided.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/storage/file\">File</a>"],"description":"Returns a <code>::File</code> object on the local file system"}]},{"id":"copy-instance","type":"instance","name":"copy","title":["Google","Cloud","Storage","File#copy"],"description":"<p>Copy the file to a new location.</p>\n\n<p>If a <a href=\"https://cloud.google.com/storage/docs/encryption#customer-supplied\">customer-supplied encryption\nkey</a>\nwas used with <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">Bucket#create_file</a>, the <code>encryption_key</code> and\n<code>encryption_key_sha256</code> options must be provided.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L461","resources":[],"examples":[{"caption":"<p>The file can be copied to a new path in the current bucket:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.copy \"path/to/destination/file.ext\""},{"caption":"<p>The file can also be copied to a different bucket:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.copy \"new-destination-bucket\",\n          \"path/to/destination/file.ext\""},{"caption":"<p>The file can also be copied by specifying a generation:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.copy \"copy/of/previous/generation/file.ext\",\n          generation: 123456"}],"params":[{"name":"dest_bucket_or_path","types":["String"],"description":"Either the bucket to copy the file\nto, or the path to copy the file to in the current bucket.","optional":false,"nullable":false},{"name":"dest_path","types":["String"],"description":"If a bucket was provided in the first\nparameter, this contains the path to copy the file to in the given\nbucket.","optional":true,"default":"nil","nullable":true},{"name":"acl","types":["String"],"description":"A predefined set of access controls to apply to\nnew file.</p>\n\n<p>Acceptable values are:</p>\n\n<ul>\n  <li><code>auth</code>, <code>auth_read</code>, <code>authenticated</code>, <code>authenticated_read</code>,\n<code>authenticatedRead</code> - File owner gets OWNER access, and\nallAuthenticatedUsers get READER access.</li>\n  <li><code>owner_full</code>, <code>bucketOwnerFullControl</code> - File owner gets OWNER\naccess, and project team owners get OWNER access.</li>\n  <li><code>owner_read</code>, <code>bucketOwnerRead</code> - File owner gets OWNER access,\nand project team owners get READER access.</li>\n  <li><code>private</code> - File owner gets OWNER access.</li>\n  <li><code>project_private</code>, <code>projectPrivate</code> - File owner gets OWNER\naccess, and project team members get access according to their\nroles.</li>\n  <li><code>public</code>, <code>public_read</code>, <code>publicRead</code> - File owner gets OWNER\naccess, and allUsers get READER access.</li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"generation","types":["Integer"],"description":"Select a specific revision of the file to\ncopy. The default is the latest version.","optional":true,"default":"nil","nullable":true},{"name":"encryption_key","types":["String"],"description":"Optional. The customer-supplied,\nAES-256 encryption key used to encrypt the file, if one was provided\nto <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">Bucket#create_file</a>. Must be provided if <code>encryption_key_sha256</code>\nis provided.","optional":true,"default":"nil","nullable":true},{"name":"encryption_key_sha256","types":["String"],"description":"Optional. The SHA256 hash of the\ncustomer-supplied, AES-256 encryption key used to encrypt the file,\nif one was provided to <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">Bucket#create_file</a>. Must be provided if\n<code>encryption_key</code> is provided.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/storage/file\">Google::Cloud::Storage::File</a>"],"description":""}]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Storage","File#delete"],"description":"<p>Permanently deletes the file.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L490","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nfile.delete"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the file was deleted."}]},{"id":"public_url-instance","type":"instance","name":"public_url","title":["Google","Cloud","Storage","File#public_url"],"description":"<p>Public URL to access the file. If the file is not public, requests to\nthe URL will return an error. (See <a data-custom-type=\"google/cloud/storage/file/acl\" data-method=\"public!-instance\">File::Acl#public!</a> and\n<a data-custom-type=\"google/cloud/storage/bucket/defaultacl\" data-method=\"public!-instance\">Bucket::DefaultAcl#public!</a>) To share a file that is not public see\n<a data-custom-type=\"google/cloud/storage/file\" data-method=\"signed_url-instance\">#signed_url</a>.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L526","resources":[{"title":"Accessing Public Data","link":"https://cloud.google.com/storage/docs/access-public-data"}],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\npublic_url = file.public_url"},{"caption":"<p>Generate the URL with a protocol other than HTTPS:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\npublic_url = file.public_url protocol: \"http\""}],"params":[{"name":"protocol","types":["String"],"description":"The protocol to use for the URL. Default is\n<code>HTTPS</code>.","optional":true,"default":":https","nullable":false}],"exceptions":[],"returns":[]},{"id":"signed_url-instance","type":"instance","name":"signed_url","title":["Google","Cloud","Storage","File#signed_url"],"description":"<p>Access without authentication can be granted to a File for a specified\nperiod of time. This URL uses a cryptographic signature of your\ncredentials to access the file.</p>\n\n<p>Generating a URL requires service account credentials, either by\nconnecting with a service account when calling\n<a data-custom-type=\"google/cloud\" data-method=\"storage-class\">Google::Cloud.storage</a>, or by passing in the service account <code>issuer</code>\nand <code>signing_key</code> values. Although the private key can be passed as a\nstring for convenience, creating and storing an instance of\n<code>OpenSSL::PKey::RSA</code> is more efficient when making multiple calls to\n<code>signed_url</code>.</p>\n\n<p>A <a data-custom-type=\"google/cloud/storage/signedurlunavailable\">SignedUrlUnavailable</a> is raised if the service account credentials\nare missing. Service account credentials are acquired by following the\nsteps in <a href=\"https://cloud.google.com/storage/docs/authentication#service_accounts\">Service Account Authentication</a>.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L599","resources":[{"title":"Access Control Signed URLs guide","link":"https://cloud.google.com/storage/docs/access-control#Signed-URLs"}],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\nshared_url = file.signed_url"},{"caption":"<p>Any of the option parameters may be specified:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\nshared_url = file.signed_url method: \"GET\",\n                             expires: 300 # 5 minutes from now"},{"caption":"<p>Using the <code>issuer</code> and <code>signing_key</code> options:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\nkey = OpenSSL::PKey::RSA.new \"-----BEGIN PRIVATE KEY-----\\n...\"\nshared_url = file.signed_url issuer: \"service-account@gcloud.com\",\n                             signing_key: key"}],"params":[{"name":"method","types":["String"],"description":"The HTTP verb to be used with the signed URL.\nSigned URLs can be used\nwith <code>GET</code>, <code>HEAD</code>, <code>PUT</code>, and <code>DELETE</code> requests. Default is <code>GET</code>.","optional":true,"default":"nil","nullable":true},{"name":"expires","types":["Integer"],"description":"The number of seconds until the URL expires.\nDefault is 300/5 minutes.","optional":true,"default":"nil","nullable":true},{"name":"content_type","types":["String"],"description":"When provided, the client (browser) must\nsend this value in the HTTP header. e.g. <code>text/plain</code>","optional":true,"default":"nil","nullable":true},{"name":"content_md5","types":["String"],"description":"The MD5 digest value in base64. If you\nprovide this in the string, the client (usually a browser) must\nprovide this HTTP header with this same value in its request.","optional":true,"default":"nil","nullable":true},{"name":"issuer","types":["String"],"description":"Service Account’s Client Email.","optional":true,"default":"nil","nullable":true},{"name":"client_email","types":["String"],"description":"Service Account’s Client Email.","optional":true,"default":"nil","nullable":true},{"name":"signing_key","types":["OpenSSL::PKey::RSA","String"],"description":"Service Account’s\nPrivate Key.","optional":true,"default":"nil","nullable":true},{"name":"private_key","types":["OpenSSL::PKey::RSA","String"],"description":"Service Account’s\nPrivate Key.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"id":"acl-instance","type":"instance","name":"acl","title":["Google","Cloud","Storage","File#acl"],"description":"<p>The <a data-custom-type=\"google/cloud/storage/file/acl\">File::Acl</a> instance used to control access to the file.</p>\n\n<p>A file has owners, writers, and readers. Permissions can be granted to\nan individual user’s email address, a group’s email address,  as well\nas many predefined lists.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L653","resources":[{"title":"Access\nControl guide","link":"https://cloud.google.com/storage/docs/access-control"}],"examples":[{"caption":"<p>Grant access to a user by prepending <code>\"user-\"</code> to an email:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\n\nemail = \"heidi@example.net\"\nfile.acl.add_reader \"user-#{email}\""},{"caption":"<p>Grant access to a group by prepending <code>\"group-\"</code> to an email:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\n\nemail = \"authors@example.net\"\nfile.acl.add_reader \"group-#{email}\""},{"caption":"<p>Or, grant access via a predefined permissions list:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nfile = bucket.file \"avatars/heidi/400x400.png\"\n\nfile.acl.public!"}],"params":[],"exceptions":[],"returns":[]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Storage","File#reload!"],"description":"<p>Reloads the file with current data from the Storage service.</p>","source":"google-cloud-storage/lib/google/cloud/storage/file.rb#L659","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]}]}