{"id":"google/cloud/datastore/dataset","name":"Dataset","title":["Google","Cloud","Datastore","Dataset"],"description":"<h1 id=\"dataset\">Dataset</h1>\n\n<p>Dataset is the data saved in a project’s Datastore.\nDataset is analogous to a database in relational database world.</p>\n\n<p>Dataset is the main object for interacting with Google Datastore.\n<a data-custom-type=\"google/cloud/datastore/entity\">Google::Cloud::Datastore::Entity</a> objects are created, read, updated,\nand deleted by Dataset.</p>\n\n<p>See Google::Cloud#datastore</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L54","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nquery = datastore.query(\"Task\").\n  where(\"done\", \"=\", false)\n\ntasks = datastore.run query"}],"methods":[{"id":"project_id-instance","type":"instance","name":"project_id","title":["Google","Cloud","Datastore","Dataset#project_id"],"description":"<p>The Datastore project connected to.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L80","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new(\n  project_id: \"my-todo-project\",\n  credentials: \"/path/to/keyfile.json\"\n)\n\ndatastore.project_id #=> \"my-todo-project\""}],"params":[],"exceptions":[],"returns":[]},{"id":"allocate_ids-instance","type":"instance","name":"allocate_ids","title":["Google","Cloud","Datastore","Dataset#allocate_ids"],"description":"<p>Generate IDs for a Key before creating an entity.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L111","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask_key = datastore.key \"Task\"\ntask_keys = datastore.allocate_ids task_key, 5"}],"params":[{"name":"incomplete_key","types":["Key"],"description":"A Key without <code>id</code> or <code>name</code> set.","optional":false,"nullable":false},{"name":"count","types":["String"],"description":"The number of new key IDs to create.","optional":true,"default":"1","nullable":false}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/datastore/key\">Google::Cloud::Datastore::Key</a>&gt;"],"description":""}]},{"id":"save-instance","type":"instance","name":"save","title":["Google","Cloud","Datastore","Dataset#save"],"description":"<p>Persist one or more entities to the Datastore.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L175","resources":[],"examples":[{"caption":"<p>Insert a new entity:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.entity \"Task\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 4\n  t[\"description\"] = \"Learn Cloud Datastore\"\nend\ntask.key.id #=> nil\ndatastore.save task\ntask.key.id #=> 123456"},{"caption":"<p>Insert multiple new entities in a batch:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask1 = datastore.entity \"Task\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 4\n  t[\"description\"] = \"Learn Cloud Datastore\"\nend\n\ntask2 = datastore.entity \"Task\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 5\n  t[\"description\"] = \"Integrate Cloud Datastore\"\nend\n\ntask_key1, task_key2 = datastore.save(task1, task2).map(&:key)"},{"caption":"<p>Update an existing entity:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.find \"Task\", \"sampleTask\"\ntask[\"priority\"] = 5\ndatastore.save task"}],"params":[{"name":"entities","types":["Entity"],"description":"One or more entity objects to be saved.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/datastore/entity\">Google::Cloud::Datastore::Entity</a>&gt;"],"description":""}]},{"id":"insert-instance","type":"instance","name":"insert","title":["Google","Cloud","Datastore","Dataset#insert"],"description":"<p>Insert one or more entities to the Datastore. An InvalidArgumentError\nwill raised if the entities cannot be inserted.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L224","resources":[],"examples":[{"caption":"<p>Insert a new entity:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.entity \"Task\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 4\n  t[\"description\"] = \"Learn Cloud Datastore\"\nend\ntask.key.id #=> nil\ndatastore.insert task\ntask.key.id #=> 123456"},{"caption":"<p>Insert multiple new entities in a batch:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask1 = datastore.entity \"Task\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 4\n  t[\"description\"] = \"Learn Cloud Datastore\"\nend\n\ntask2 = datastore.entity \"Task\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 5\n  t[\"description\"] = \"Integrate Cloud Datastore\"\nend\n\ntask_key1, task_key2 = datastore.insert(task1, task2).map(&:key)"}],"params":[{"name":"entities","types":["Entity"],"description":"One or more entity objects to be inserted.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/datastore/entity\">Google::Cloud::Datastore::Entity</a>&gt;"],"description":""}]},{"id":"update-instance","type":"instance","name":"update","title":["Google","Cloud","Datastore","Dataset#update"],"description":"<p>Update one or more entities to the Datastore. An InvalidArgumentError\nwill raised if the entities cannot be updated.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L255","resources":[],"examples":[{"caption":"<p>Update an existing entity:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.find \"Task\", \"sampleTask\"\ntask[\"done\"] = true\ndatastore.save task"},{"caption":"<p>Update multiple new entities in a batch:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nquery = datastore.query(\"Task\").where(\"done\", \"=\", false)\ntasks = datastore.run query\ntasks.each { |t| t[\"done\"] = true }\ndatastore.update tasks"}],"params":[{"name":"entities","types":["Entity"],"description":"One or more entity objects to be updated.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/datastore/entity\">Google::Cloud::Datastore::Entity</a>&gt;"],"description":""}]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Datastore","Dataset#delete"],"description":"<p>Remove entities from the Datastore.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L274","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ndatastore.delete task1, task2"}],"params":[{"name":"entities_or_keys","types":["Entity","Key"],"description":"One or more Entity or Key\nobjects to remove.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if successful"}]},{"id":"commit-instance","type":"instance","name":"commit","title":["Google","Cloud","Datastore","Dataset#commit"],"description":"<p>Make multiple changes in a single commit.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L298","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ndatastore.commit do |c|\n  c.save task3, task4\n  c.delete task1, task2\nend"}],"params":[{"name":"yield","types":["block"],"description":"a block for making changes","optional":true,"nullable":false},{"name":"yield.commit","types":["Commit"],"description":"The object that changes are made on","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/datastore/entity\">Google::Cloud::Datastore::Entity</a>&gt;"],"description":"The entities that\nwere persisted."}]},{"id":"find-instance","type":"instance","name":"find","title":["Google","Cloud","Datastore","Dataset#find"],"description":"<p>Retrieve an entity by key.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L347","resources":[],"examples":[{"caption":"<p>Finding an entity with a key:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask_key = datastore.key \"Task\", \"sampleTask\"\ntask = datastore.find task_key"},{"caption":"<p>Finding an entity with a <code>kind</code> and <code>id</code>/<code>name</code>:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.find \"Task\", \"sampleTask\""}],"params":[{"name":"key_or_kind","types":["Key","String"],"description":"A Key object or <code>kind</code> string value.","optional":false,"nullable":false},{"name":"id_or_name","types":["Integer","String","nil"],"description":"The Key’s <code>id</code> or <code>name</code>\nvalue if a <code>kind</code> was provided in the first parameter.","optional":true,"default":"nil","nullable":true},{"name":"consistency","types":["Symbol"],"description":"The non-transactional read consistency to\nuse. Cannot be set to <code>:strong</code> for global queries. Accepted values\nare <code>:eventual</code> and <code>:strong</code>.</p>\n\n<p>The default consistency depends on the type of lookup used. See\n<a href=\"https://cloud.google.com/datastore/docs/articles/balancing-strong-and-eventual-consistency-with-google-cloud-datastore/#h.tf76fya5nqk8\">Eventual Consistency in Google Cloud\nDatastore</a>\nfor more information.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/entity\">Google::Cloud::Datastore::Entity</a>","nil"],"description":""}]},{"id":"find_all-instance","type":"instance","name":"find_all","title":["Google","Cloud","Datastore","Dataset#find_all"],"description":"<p>Retrieve the entities for the provided keys. The order of results is\nundefined and has no relation to the order of <code>keys</code> arguments.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L381","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask_key1 = datastore.key \"Task\", \"sampleTask1\"\ntask_key2 = datastore.key \"Task\", \"sampleTask2\"\ntasks = datastore.find_all task_key1, task_key2"}],"params":[{"name":"keys","types":["Key"],"description":"One or more Key objects to find records for.","optional":false,"nullable":false},{"name":"consistency","types":["Symbol"],"description":"The non-transactional read consistency to\nuse. Cannot be set to <code>:strong</code> for global queries. Accepted values\nare <code>:eventual</code> and <code>:strong</code>.</p>\n\n<p>The default consistency depends on the type of lookup used. See\n<a href=\"https://cloud.google.com/datastore/docs/articles/balancing-strong-and-eventual-consistency-with-google-cloud-datastore/#h.tf76fya5nqk8\">Eventual Consistency in Google Cloud\nDatastore</a>\nfor more information.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/dataset/lookupresults\">Google::Cloud::Datastore::Dataset::LookupResults</a>"],"description":""}]},{"id":"run-instance","type":"instance","name":"run","title":["Google","Cloud","Datastore","Dataset#run"],"description":"<p>Retrieve entities specified by a Query.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L453","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nquery = datastore.query(\"Task\").\n  where(\"done\", \"=\", false)\ntasks = datastore.run query"},{"caption":"<p>Run an ancestor query with eventual consistency:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask_list_key = datastore.key \"TaskList\", \"default\"\nquery = datastore.query.kind(\"Task\").\n  ancestor(task_list_key)\n\ntasks = datastore.run query, consistency: :eventual"},{"caption":"<p>Run the query within a namespace with the <code>namespace</code> option:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nquery = datastore.query(\"Task\").\n  where(\"done\", \"=\", false)\ntasks = datastore.run query, namespace: \"example-ns\""},{"caption":"<p>Run the query with a GQL string.</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ngql_query = datastore.gql \"SELECT * FROM Task WHERE done = @done\",\n                          done: false\ntasks = datastore.run gql_query"},{"caption":"<p>Run the GQL query within a namespace with <code>namespace</code> option:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ngql_query = datastore.gql \"SELECT * FROM Task WHERE done = @done\",\n                          done: false\ntasks = datastore.run gql_query, namespace: \"example-ns\""}],"params":[{"name":"query","types":["Query","GqlQuery"],"description":"The object with the search criteria.","optional":false,"nullable":false},{"name":"namespace","types":["String"],"description":"The namespace the query is to run within.","optional":true,"default":"nil","nullable":true},{"name":"consistency","types":["Symbol"],"description":"The non-transactional read consistency to\nuse. Cannot be set to <code>:strong</code> for global queries. Accepted values\nare <code>:eventual</code> and <code>:strong</code>.</p>\n\n<p>The default consistency depends on the type of query used. See\n<a href=\"https://cloud.google.com/datastore/docs/articles/balancing-strong-and-eventual-consistency-with-google-cloud-datastore/#h.tf76fya5nqk8\">Eventual Consistency in Google Cloud\nDatastore</a>\nfor more information.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/dataset/queryresults\">Google::Cloud::Datastore::Dataset::QueryResults</a>"],"description":""}]},{"id":"transaction-instance","type":"instance","name":"transaction","title":["Google","Cloud","Datastore","Dataset#transaction"],"description":"<p>Creates a Datastore Transaction.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L512","resources":[],"examples":[{"caption":"<p>Runs the given block in a database transaction:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.entity \"Task\", \"sampleTask\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 4\n  t[\"description\"] = \"Learn Cloud Datastore\"\nend\n\ndatastore.transaction do |tx|\n  if tx.find(task.key).nil?\n    tx.save task\n  end\nend"},{"caption":"<p>If no block is given, a Transaction object is returned:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.entity \"Task\", \"sampleTask\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 4\n  t[\"description\"] = \"Learn Cloud Datastore\"\nend\n\ntx = datastore.transaction\nbegin\n  if tx.find(task.key).nil?\n    tx.save task\n  end\n  tx.commit\nrescue\n  tx.rollback\nend"}],"params":[{"name":"yield","types":["block"],"description":"a block yielding a new transaction","optional":true,"nullable":false},{"name":"yield.tx","types":["Transaction"],"description":"the transaction object","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"query-instance","type":"instance","name":"query","title":["Google","Cloud","Datastore","Dataset#query"],"description":"<p>Create a new Query instance. This is a convenience method to make the\ncreation of Query objects easier.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L557","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nquery = datastore.query(\"Task\").\n  where(\"done\", \"=\", false)\ntasks = datastore.run query"},{"caption":"<p>The previous example is equivalent to:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nquery = Google::Cloud::Datastore::Query.new.\n  kind(\"Task\").\n  where(\"done\", \"=\", false)\ntasks = datastore.run query"}],"params":[{"name":"kinds","types":["String"],"description":"The kind of entities to query. This is optional.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/query\">Google::Cloud::Datastore::Query</a>"],"description":""}]},{"id":"gql-instance","type":"instance","name":"gql","title":["Google","Cloud","Datastore","Dataset#gql"],"description":"<p>Create a new GqlQuery instance. This is a convenience method to make\nthe creation of GqlQuery objects easier.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L594","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ngql_query = datastore.gql \"SELECT * FROM Task WHERE done = @done\",\n                          done: false\ntasks = datastore.run gql_query"},{"caption":"<p>The previous example is equivalent to:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ngql_query = Google::Cloud::Datastore::GqlQuery.new\ngql_query.query_string = \"SELECT * FROM Task WHERE done = @done\"\ngql_query.named_bindings = {done: false}\ntasks = datastore.run gql_query"}],"params":[{"name":"query","types":["String"],"description":"The GQL query string.","optional":false,"nullable":false},{"name":"bindings","types":["Hash"],"description":"Named bindings for the GQL query string, each\nkey must match regex <code>[A-Za-z_$][A-Za-z_$0-9]*</code>, must not match\nregex <code>__.*__</code>, and must not be <code>\"\"</code>. The value must be an <code>Object</code>\nthat can be stored as an Entity property value, or a <code>Cursor</code>.","optional":true,"default":"{}","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/gqlquery\">Google::Cloud::Datastore::GqlQuery</a>"],"description":""}]},{"id":"key-instance","type":"instance","name":"key","title":["Google","Cloud","Datastore","Dataset#key"],"description":"<p>Create a new Key instance. This is a convenience method to make the\ncreation of Key objects easier.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L684","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask_key = datastore.key \"Task\", \"sampleTask\""},{"caption":"<p>The previous example is equivalent to:</p>","code":"require \"google/cloud/datastore\"\n\ntask_key = Google::Cloud::Datastore::Key.new \"Task\", \"sampleTask\""},{"caption":"<p>Create an empty key:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nkey = datastore.key"},{"caption":"<p>Create an incomplete key:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nkey = datastore.key \"User\""},{"caption":"<p>Create a key with a parent:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nkey = datastore.key [[\"TaskList\", \"default\"],\n                     [\"Task\", \"sampleTask\"]]\nkey.path #=> [[\"TaskList\", \"default\"], [\"Task\", \"sampleTask\"]]"},{"caption":"<p>Create a key with multi-level ancestry:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nkey = datastore.key([\n  [\"User\", \"alice\"],\n  [\"TaskList\", \"default\"],\n  [\"Task\", \"sampleTask\"]\n])\nkey.path.count #=> 3\nkey.path[0] #=> [\"User\", \"alice\"]\nkey.path[1] #=> [\"TaskList\", \"default\"]\nkey.path[2] #=> [\"Task\", \"sampleTask\"]"},{"caption":"<p>Create an incomplete key with a parent:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nkey = datastore.key \"TaskList\", \"default\", \"Task\"\nkey.path #=> [[\"TaskList\", \"default\"], [\"Task\", nil]]"},{"caption":"<p>Create a key with a project and namespace:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\nkey = datastore.key [\"TaskList\", \"default\"], [\"Task\", \"sampleTask\"],\n                    project: \"my-todo-project\",\n                    namespace: \"example-ns\"\nkey.path #=> [[\"TaskList\", \"default\"], [\"Task\", \"sampleTask\"]]\nkey.project #=> \"my-todo-project\"\nkey.namespace #=> \"example-ns\""}],"params":[{"name":"path","types":["Array<Array(String,(String|Integer|nil))>"],"description":"An optional\nlist of pairs for the key’s path. Each pair may include the key’s\nkind (String) and an id (Integer) or name (String). This is\noptional.","optional":false,"nullable":false},{"name":"project","types":["String"],"description":"The project of the Key. This is optional.","optional":true,"default":"nil","nullable":true},{"name":"namespace","types":["String"],"description":"namespace kind of the Key. This is optional.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/key\">Google::Cloud::Datastore::Key</a>"],"description":""}]},{"id":"entity-instance","type":"instance","name":"entity","title":["Google","Cloud","Datastore","Dataset#entity"],"description":"<p>Create a new empty Entity instance. This is a convenience method to\nmake the creation of Entity objects easier.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/dataset.rb#L768","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.entity"},{"caption":"<p>The previous example is equivalent to:</p>","code":"require \"google/cloud/datastore\"\n\ntask = Google::Cloud::Datastore::Entity.new"},{"caption":"<p>The key can also be passed in as an object:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask_key = datastore.key \"Task\", \"sampleTask\"\ntask = datastore.entity task_key"},{"caption":"<p>Or the key values can be passed in as parameters:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.entity \"Task\", \"sampleTask\""},{"caption":"<p>The previous example is equivalent to:</p>","code":"require \"google/cloud/datastore\"\n\ntask_key = Google::Cloud::Datastore::Key.new \"Task\", \"sampleTask\"\ntask = Google::Cloud::Datastore::Entity.new\ntask.key = task_key"},{"caption":"<p>The newly created entity can also be configured using block:</p>","code":"require \"google/cloud/datastore\"\n\ndatastore = Google::Cloud::Datastore.new\n\ntask = datastore.entity \"Task\", \"sampleTask\" do |t|\n  t[\"type\"] = \"Personal\"\n  t[\"done\"] = false\n  t[\"priority\"] = 4\n  t[\"description\"] = \"Learn Cloud Datastore\"\nend"},{"caption":"<p>The previous example is equivalent to:</p>","code":"require \"google/cloud/datastore\"\n\ntask_key = Google::Cloud::Datastore::Key.new \"Task\", \"sampleTask\"\ntask = Google::Cloud::Datastore::Entity.new\ntask.key = task_key\ntask[\"type\"] = \"Personal\"\ntask[\"done\"] = false\ntask[\"priority\"] = 4\ntask[\"description\"] = \"Learn Cloud Datastore\""}],"params":[{"name":"key_or_path","types":["Key","Array<Array(String,(String|Integer|nil))>"],"description":"An\noptional list of pairs for the key’s path. Each pair may include the\nkey’s kind (String) and an id (Integer) or name (String). This is\noptional.","optional":false,"nullable":false},{"name":"project","types":["String"],"description":"The project of the Key. This is optional.","optional":true,"default":"nil","nullable":true},{"name":"namespace","types":["String"],"description":"namespace kind of the Key. This is optional.","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"a block yielding a new entity","optional":true,"nullable":false},{"name":"yield.entity","types":["Entity"],"description":"the newly created entity object","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/entity\">Google::Cloud::Datastore::Entity</a>"],"description":""}]}]}